<!DOCTYPE html>
<html>
    <head>
        <script src="js/jquery-3.2.1.min.js"></script>
        <script src="js/jquery.mobile-1.4.5.min"></script>
        <script src="js/moment.js"></script>
        <script src="js/bootstrap.js"></script>
        <script src="js/bootstrap-datetimepicker.js"></script>
        <script src="js/bootbox.min.js"></script>
        <script src="js/placeholder.js"></script>
        <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
        <link rel="stylesheet" type="text/css" href="css/myStyle.css">
        <link rel="stylesheet" type="text/css" href="css/bootstrap-datetimepicker.css">
        <link rel="stylesheet" type="text/css" href="css/bootstrap-arrow-buttons.css">
    </head>
    <body>
        <div id="wrap">
            <!-- Top menu bar begins -->
            <div class='navbar navbar-default navbar-static-top'>
                <div class="container">
                    <!-- Logo begins -->
                    <div class = "row hidden-md hidden-lg hidden-xl text-center">
                        <a href='#' class='navbar-brand'>
                            <text style="color:rgb(44,164,176)">
                                Ne</text><text style="color:red">x</text><text style="color:rgb(44,164,176)">peria DMAN Golf Society
                            </text>
                        </a>
                    </div>
                    <div class = "hidden-sm hidden-xs">
                        <a href='#' class='navbar-brand'>
                            <text style="color:rgb(44,164,176)">
                                Ne</text><text style="color:red">x</text><text style="color:rgb(44,164,176)">peria DMAN Golf Society
                            </text>
                        </a>
                    </div>
                    <!-- Logo ends -->
                    <ul class="nav nav-pills navbar-right"> 
                        <li class = "hidden-md hidden-lg hidden-xl">
                            <a href="#"  data-toggle="dropdown">Menu<span class="caret"></span></a>
                            <ul id="glofmenu-sm" class="dropdown-menu">
                            <!-- Menu with general access begins -->
                                <li class="list-group-item" id="membershiplisting-sm" onmouseover="membershiplisting()">
                                    <a class="notop" href="javascript:void(0)">
                                        Membership
                                    </a>
                                </li>
                                <li class="list-group-item" id="committee">
                                    <a class="notop" href="javascript:void(0)">
                                        The Committee
                                    </a>
                                </li>
                                <li class="list-group-item" id="societyeventslisting">
                                    <a class="notop" href="javascript:void(0)">
                                        Society Events
                                    </a>
                                </li>
                                <li class="list-group-item" id = "competitionresults">
                                    <a class="notop" href="javascript:void(0)">
                                        Scoreboard
                                    </a>
                                </li>
                                <li class="list-group-item" id = "championcup">
                                    <a class="notop" href="javascript:void(0)">
                                        Challenge Trophy
                                    </a>
                                </li>                            
                                <li class="list-group-item" id = "playeroftheyear">
                                    <a class="notop" href="javascript:void(0)">
                                        Player of the Year
                                    </a>
                                </li>
                                <li class="list-group-item" id = "rollofhonour">
                                    <a class="notop" href="javascript:void(0)">
                                        Roll of Honour
                                    </a>
                                </li>
                                <li class="list-group-item" id = "halloffame">
                                    <a class="notop" href="javascript:void(0)">
                                        Hall of Fame
                                    </a>
                                </li>
                            <!-- Menu with general access ends -->
                            </ul>
                        </li>
                        <li class = "hidden-md hidden-lg hidden-xl" id="adminpanel-sm"   style="display:none">
                            <a href="#"  data-toggle="dropdown">Admin Panel<span class="caret"></span></a>
                            <ul class="dropdown-menu">
                            <!-- Menu with ADMIN access begins -->
                                <li class="list-group-item" id="addmemberLink">
                                    <a class="notop" href="javascript:void(0)">
                                        Add Member
                                    </a>
                                </li>
                                <li class="list-group-item" id="editmembersLink">
                                    <a class="notop" href="javascript:void(0)">
                                        Edit Members
                                    </a>
                                </li>
                                <li class="list-group-item" id="editcommitteeLink">
                                    <a class="notop" href="javascript:void(0)">
                                        Edit Committee
                                    </a>
                                </li>
                                <li class="list-group-item" id="createsocietyeventLink">
                                    <a class="notop" href="javascript:void(0)">
                                        Add Society Event
                                    </a>
                                </li>
                                <li class="list-group-item" id="editsocietyeventsLink">
                                    <a class="notop" href="javascript:void(0)">
                                        Edit Society Events
                                    </a>
                                </li>
                                <li class="list-group-item" id="addcompetitionresultsLink">
                                    <a class="notop" href="javascript:void(0)">
                                        Add Scoreboard Result
                                    </a>
                                </li>
                                <li class="list-group-item" id="editcompetitionresultsLink">
                                    <a class="notop" href="javascript:void(0)">
                                        Edit Scoreboard Results
                                    </a>
                                </li>

                                <li class="list-group-item" id="addcontestLink" style="display:true">
                                    <a class="notop" href="javascript:void(0)">
                                        Add Contest
                                    </a>
                                </li>
                                <li class="list-group-item" id="editcontestLink" style="display:true">
                                    <a class="notop" href="javascript:void(0)">
                                        Edit Contest
                                    </a>
                                </li>
                            <!-- Menu with ADMIN access ends -->
                            </ul>      
                        </li>
                        <!-- Log in menu begins -->
                        <li id="login-menu">
                            <a href="#"  data-toggle="dropdown">Log in<span class="caret"></span></a>
                            <ul id="login-dp" class="dropdown-menu">
                                <li>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <form class="form" role="form" method="post" action="login" accept-charset="UTF-8" id="login-nav">
                                                <div class="form-group">
                                                    <label class="sr-only" for="loginUsername">
                                                        Username
                                                    </label>
                                                    <input type="text" class="form-control" id="loginUsername" placeholder="Username" required>
                                                </div>
                                                <div class="form-group">
                                                    <label class="sr-only" for="loginPassword">
                                                        Password
                                                    </label>
                                                        <input type="password" class="form-control" id="loginPassword" placeholder="Password" required>
                                                        <div class="help-block text-right">
                                                            <a href="">
                                                                 Forget the password ?
                                                            </a>
                                                        </div>
                                                </div>
                                                <div class="form-group">
                                                    <button id="loginbtn" type="button" class="btn btn-primary btn-block">
                                                        Sign in
                                                    </button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </li>
                        <!-- Log in menu ends -->
                        
                        <!-- Logged user menu begins -->
                        <li id="loggedin" style="display:none">
                            <a href="#" data-toggle="dropdown">
                                <span class="text" id="userMenuTitle">
                                    User
                                </span>
                                <span class="caret">
                                </span>
                            </a>
                            <ul id="userMenu" class="dropdown-menu">
                                <li>
                                    <a href="#accountsettings" id="accountsettingsLink">
                                        <span class="glyphicon glyphicon-cog pull-right">
                                        </span>
                                        <span class="dropdown-link-text" style="margin-right:40px">
                                            Account Settings
                                        </span>
                                    </a>
                                </li>
                                <li class="divider">
                                </li>
                                <li>
                                    <a href="#userstats" id="userstatsLink">
                                        <span class="glyphicon glyphicon-stats pull-right">
                                        </span>
                                        <span class="dropdown-link-text">
                                            User stats 
                                        </span>
                                    </a>
                                </li>
                                <li class="divider">
                                </li>
                                <li>
                                    <a href="#" id="logoutLink">
                                        <span class="glyphicon glyphicon-log-out pull-right">
                                        </span>
                                        <span class="dropdown-link-text">
                                            Log Out 
                                        </span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <!-- Logged user menu ends -->
                        <li style="display:inline-block">
                            <a href="#contact">
                                Contact
                            </a>
                        </li>
                    </ul>
                </div>
            </div>   
            <!-- Top menu bar ends -->

        <!-- Carousel begins -->
            <!-- Header Carousel, looped photos at top of the screen -->
            <header id="myCarousel" class="carousel slide hidden-xs" data-interval="10000" data-ride="carousel">
                
                <!-- Indicators , carousel skeleton-->
                <ol class="carousel-indicators">
                    <li data-target="#myCarousel" data-slide-to="0" class='active'></li>
                    <li data-target="#myCarousel" data-slide-to="1"></li>
                    <li data-target="#myCarousel" data-slide-to="2"></li>
                    <li data-target="#myCarousel" data-slide-to="3"></li>
                    <li data-target="#myCarousel" data-slide-to="4"></li>
                    <li data-target="#myCarousel" data-slide-to="5"></li>
                </ol>
                
                <!-- Wrapper for slides -->
                <div class="carousel-inner">
                    <div class="item active">
                        <img src="img/s1.png">
                        <div class="carousel-caption">
                            <h1></h1>
                        </div>
                    </div>

                    <div class="item">
                        <img src="img/s2.png">
                        <div class="carousel-caption">
                            <h1></h1>
                        </div>
                    </div>

                    <div class="item">
                        <img src="img/s3.png">
                        <div class="carousel-caption">
                            <h1></h1>
                        </div>
                    </div>

                    <div class="item">
                        <img src="img/s4.png">
                        <div class="carousel-caption">
                            <h1></h1>
                        </div>
                    </div>

                    <div class="item">
                        <img src="img/s5.png">
                        <div class="carousel-caption">
                            <h1></h1>
                        </div>
                    </div>
                    
                    <div class="item">
                        <img src="img/s6.png">
                        <div class="carousel-caption">
                            <h1></h1>
                        </div>
                    </div>
                    
                    <!-- Controls -->
                    <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                        <span class="icon-prev"></span>
                    </a>
                    <a class="right carousel-control" href="#myCarousel" data-slide="next">
                        <span class="icon-next"></span>
                    </a>
                </div>
            </header>
        <!-- Carousel ends -->
            
            <div class="container ">
                <div class="row" style="margin-top: 50px">
                    <div  class="col-md-3 text-center hidden-sm hidden-xs" style="float:left">
                        <ul class="list-group well" id="glofmenu">
                            <!-- Menu with general access begins -->
                            <li class="list-group-item" id="membershiplisting">
                                <a class="notop" href="javascript:void(0)">
                                    Membership
                                </a>
                            </li>
                            <li class="list-group-item" id="committee">
                                <a class="notop" href="javascript:void(0)">
                                    The Committee
                                </a>
                            </li>
                            <li class="list-group-item" id="societyeventslisting">
                                <a class="notop" href="javascript:void(0)">
                                    Society Events
                                </a>
                            </li>
                            <li class="list-group-item" id = "competitionresults">
                                <a class="notop" href="javascript:void(0)">
                                    Scoreboard
                                </a>
                            </li>
                            <li class="list-group-item" id = "championcup">
                                <a class="notop" href="javascript:void(0)">
                                    Challenge Trophy
                                </a>
                            </li>                            
                            <li class="list-group-item" id = "playeroftheyear">
                                <a class="notop" href="javascript:void(0)">
                                    Player of the Year
                                </a>
                            </li>
                            <li class="list-group-item" id = "rollofhonour">
                                <a class="notop" href="javascript:void(0)">
                                    Roll of Honour
                                </a>
                            </li>
                            <li class="list-group-item" id = "halloffame">
                                <a class="notop" href="javascript:void(0)">
                                    Hall of Fame
                                </a>
                            </li>
                        <!-- Menu with general access ends -->
                        </ul>
                        
                        <ul class="list-group well hidden-sm hidden-xs" id="adminpanel" style="display:none">
                        <!-- Menu with ADMIN access begins -->
                            <li class="list-group-item" id="addmemberLink">
                                <a class="notop" href="javascript:void(0)">
                                    Add Member
                                </a>
                            </li>
                            <li class="list-group-item" id="editmembersLink">
                                <a class="notop" href="javascript:void(0)">
                                    Edit Members
                                </a>
                            </li>
                            <li class="list-group-item" id="editcommitteeLink">
                                <a class="notop" href="javascript:void(0)">
                                    Edit Committee
                                </a>
                            </li>
                            <li class="list-group-item" id="createsocietyeventLink">
                                <a class="notop" href="javascript:void(0)">
                                    Add Society Event
                                </a>
                            </li>
                            <li class="list-group-item" id="editsocietyeventsLink">
                                <a class="notop" href="javascript:void(0)">
                                    Edit Society Events
                                </a>
                            </li>
                            <li class="list-group-item" id="addcompetitionresultsLink">
                                <a class="notop" href="javascript:void(0)">
                                    Add Scoreboard Result
                                </a>
                            </li>
                            <li class="list-group-item" id="editcompetitionresultsLink">
                                <a class="notop" href="javascript:void(0)">
                                    Edit Scoreboard Results
                                </a>
                            </li>
                            
                            <li class="list-group-item" id="addcontestLink" style="display:true">
                                <a class="notop" href="javascript:void(0)">
                                    Add Contest
                                </a>
                            </li>
                            <li class="list-group-item" id="editcontestLink" style="display:true">
                                <a class="notop" href="javascript:void(0)">
                                    Edit Contest
                                </a>
                            </li>
                        <!-- Menu with ADMIN access ends -->
                        </ul>
                    </div>
                    
                    <!-- committee list panel definition begins -->
                    <div class="col-md-9" >
                            <div id="welcome-sm" class = "text-center hidden-md hidden-lg hidden-xl well hideAll">
                                <h3>Welcome to Nexperia Golf Society Home Page!</h3>
                            </div>
                            <div id="welcome" class="text-center hidden-sm hidden-xs hideAll">
                                <div class="text-center well">
                                    <h1>Welcome to Nexperia Golf Society Home Page!</h1>
                                </div>
                                 <img class = "img-rounded" src="img/committee.png" alt=""  align="center">
                            </div>

                        <div id="committeecontent" style="display:none">
                            <div class="well  text-center" >  
                                
                                <div class = "text-center hidden-md hidden-lg hidden-xl well">
                                    <h3>The Committee</h3>
                                </div>
                                <div class="text-center hidden-sm hidden-xs">
                                    <img class = "img-rounded" src="img/committee2.png" style="display:inline-block"  alt="" align="left"> 
                                    <h1 style="display:inline-block">The Committee</h1> 
                                    <img class = "img-rounded" style="display:inline-block" src="img/committee2.png" alt=""  align="right">
                                </div>
                            </div>
                                
                            <table id="committeetable" class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Members Name</th>
                                        <th>Position</th>
                                        <th>Email</th>
                                        <th>Phone</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr></tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- committee list panel definition ends -->
                        
                        <!-- Members list panel definition begins -->
                        <div id="membershiplistingcontent" style="display:none">
                            <div class="well  text-center" >
                                <div class = "hidden-sm hidden-xs">
                                    <img class = "img-rounded" src="img/membershiplisting.png" style="display:inline-block"  alt="" align="left"> 
                                    <h1 style="display:inline-block">Membership Listing</h1>
                                    <img class = "img-rounded" style="display:inline-block" src="img/membershiplisting.png" alt=""  align="right">
                                </div>
                                <div class = "hidden-md hidden-lg hidden-xl">
                                    <h3 style="display:inline-block">Membership Listing</h3>
                                </div>
                            </div>

                            <table id="memberstable" class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Members Name</th>
                                        <th>Handicap (Exact)</th>
                                        <th>Handicap (Playing)</th>
                                        <th>Email</th>
                                        <th>Phone</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr></tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- Members list panel definition ends -->
                        
                        <!-- Society events panel definition begins -->
                        <div id="societyeventscontent" style="display:none">
                            <div class="well  text-center" >
                                
                                    <div class = "hidden-md hidden-lg hidden-xl">
                                        <h3 style="display:inline-block">Society events</h3>
                                    </div>
                                    <div class = "hidden-sm hidden-xs">
                                        <img class = "img-rounded" src="img/societyevents.png" style="display:inline-block;vertical-align: middle" alt="" align="left"> 
                                        <h1 style="display:inline-block">Society events</h1>
                                        <img class = "img-rounded" style="display:inline-block;vertical-align: middle" src="img/societyevents.png" alt=""  align="right" >
                                </div>
                            </div>

                            <table id = "societyeventstable" class=  "table table-hover">
                                <thead>
                                </thead>
                                <tbody>
                                    <tr></tr>
                                </tbody>
                            </table>
                            
                            <div class = "text-center well">
                                <div class="list-group" id="eventlist">
                                </div> 
                                <button type="button" class="btn btn-primary btn-arrow-left" style = "margin-bottom: 20px" id = "eventprevyearbtn">Prev</button>
                                <button type="button" class="btn btn-primary" style = "margin-left: 20px; margin-right: 20px; margin-bottom: 20px" id = "eventlistbtn">2017</button>
                                <button type="button" class="btn btn-primary btn-arrow-right" style = "margin-bottom: 20px" id = "eventnextyearbtn">Next</button>
                            </div>
                            
                            
                        </div>
                        <!-- Society events panel definition ends -->
                        
                        <!-- Competition results panel definition begins -->
                        <div id="competitionresultscontent" style="display:none">
                            <div class="well  text-center" >
                                <div>
                                    <div class = "hidden-md hidden-lg hidden-xl">
                                        <h3 style="display:inline-block">Scoreboard</h3>
                                    </div>
                                    <div class = "hidden-sm hidden-xs">
                                        <img class = "img-rounded" src="img/competitionresultslisting.png" style="display:inline-block" alt="" align="left"> 
                                        <h1 style="display:inline-block">Scoreboard</h1>
                                        <img class = "img-rounded" style="display:inline-block" src="img/competitionresultslisting.png" alt="" align="right">
                                    </div>
                                </div>
                            </div>

                            <table id = "competitionresultsinfotable" class=  "table table-hover">
                                <thead>
                                </thead>
                                <tbody>
                                    <tr></tr>
                                </tbody>
                            </table>
                            
                            <div class = "well" >
                                <div style="display:inline-block">
                                    <img class = "img-rounded pin" src="img/nearestthepin.png" style="width:200px;height:auto" alt="">
                                </div>
                                <div style="display:inline-block;margin-left:50px;vertical-align: middle">
                                    <table id = "competitionnearestthepintable" class=  "table table-hover" style="width:400px">
                                    <thead align="center">
                                        <th style="text-align:center">Hole Number</th>
                                        <th style="text-align:center">Winner</th>
                                    </thead>
                                    <tbody>
                                        <tr></tr>
                                    </tbody>
                                    </table>
                                </div>
                            </div>
    
                            <table id = "competitionresultsscoretable" class=  "table table-hover">
                                <thead>
                                    <th>Member Name</th>
                                    <th>Handicap</th>
                                    <th>Net Score</th>
                                </thead>
                                <tbody>
                                    <tr></tr>
                                </tbody>
                            </table>
                            
                            <div class = "text-center well">
                                <div class="list-group" id="competitionlist">
                                </div> 
                                <button type="button" class="btn btn-primary btn-arrow-left" style = "margin-bottom: 20px" id = "competitionlistprevyearbtn">Prev</button>
                                <button type="button" class="btn btn-primary" style = "margin-left: 20px; margin-right: 20px; margin-bottom: 20px" id = "competitionlistbtn">2017</button>
                                <button type="button" class="btn btn-primary btn-arrow-right" style = "margin-bottom: 20px" id = "competitionlistnextyearbtn">Next</button>
                            </div>
                        </div>
                        <!-- Competition results panel definition ends -->
                        
                        
                        
                        
                        <!-- Challenge Trophy panel definition begins -->
                        <div id="championcupcontent" style="display:none;">
                            <div class="well  text-center" >
                                <div class = "hidden-md hidden-lg hidden-xl">
                                    <h3 style="display:inline-block">Challenge Trophy</h3>
                                </div>
                                <div class = "hidden-sm hidden-xs">
                                    <img class = "img-rounded" src="img/playeroftheyear.png" style="display:inline-block"  alt="" align="left" > 
                                    <h1 style="display:inline-block">Challenge Trophy</h1>
                                    <img class = "img-rounded" style="display:inline-block" src="img/playeroftheyear.png" alt=""  align="right" >
                                </div>
                            </div>
                            
                            <div id="championcupgrid">
                            </div>
                            
                            <div class = "text-center well">
                                <div id="championcuplist">
                                </div>
                            </div>
                        </div>
                        <!-- Challenge Trophy panel definition ends -->
                        
                        
                        <!-- Hall of Fame panel definition begins -->
                        <div id="halloffamecontent" style="display:none;">
                            <div class="well  text-center" >
                                <div class = "hidden-md hidden-lg hidden-xl">
                                    <h3 style="display:inline-block">Hall of Fame</h3>
                                </div>
                                <div class = "hidden-sm hidden-xs">
                                    <img class = "img-rounded" src="img/playeroftheyear.png" style="display:inline-block"  alt="" align="left" > 
                                    <h1 style="display:inline-block">Hall of Fame</h1>
                                    <img class = "img-rounded" style="display:inline-block" src="img/playeroftheyear.png" alt=""  align="right" >
                                </div>
                            </div>
                            
                            <div class="text-center" align="center" style="position:relative;background-image:url(img/background2.png)">
                                <img class = "img-rounded" src="img/halloffame.png" style=""  alt="" align="center" >
                                
                                <div  style="position:absolute; top: 175px; left: 275px; z-index: 1;">
                                    <table id = "halloffamelist" style="border:none">
                                        <tbody>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Roll of Honour panel definition begins -->
                        <div id="rollofhonourcontent" style="display:none">
                            <div class="well  text-center" >
                                <div class = "hidden-md hidden-lg hidden-xl">
                                    <h3 style="display:inline-block">Roll of Honour</h3>
                                </div>
                                <div class = "hidden-sm hidden-xs">
                                    <img class = "img-rounded" src="img/playeroftheyear.png" style="display:inline-block"  alt="" align="left" > 
                                    <h1 style="display:inline-block">Roll of Honour</h1>
                                    <img class = "img-rounded" style="display:inline-block" src="img/playeroftheyear.png" alt=""  align="right" >
                                </div>
                            </div>
            
                            <div class="text-center" align="center" style="position:relative;background-image:url(img/background1.png)">
                                <div class = "hidden-sm hidden-xs">
                                    <img class = "img-rounded" src="img/rollofhonour.png" style=""  alt="" align="center" > 
                                </div>
                            
                                <div class = "hidden-lg hidden-xl hidden-md">
                                    <img class = "img-rounded" src="img/rollofhonour-sm.png" style=""  alt="" align="center" > 
                                </div>
                            
                                <div id = "badge3" style="position:absolute; top: 50px; left: 425px; z-index: 1;display:none" class="shake1 badgeimg">
                                    <img  src="img/badge.png" alt="" id="3">
                                    <div style="position:relative">
                                        <div style="position:absolute; top: -130px; left: -31px; z-index: 1;" class="badgetext">
                                            <p id = "badgename3" style="color:yellow;font-size: 12px;margin-bottom: 10px;">John Hart</p>
                                            <p id = "badgevenue3" style="color:yellow;font-size: 12px;margin-bottom: 10px;" >Dunkenfield</p>
                                            <p id = "badgemonth3" style="color:yellow;font-size: 12px;margin-bottom: 10px;" >June</p>
                                        </div>
                                    </div>
                                </div> 
                                <div id = "badge2" style="position:absolute; top: 50px; left: 265px; z-index: 1;display:none" class="shake1 badgeimg">
                                    <img  src="img/badge.png" alt="" id="2" >
                                    <div style="position:relative">
                                        <div style="position:absolute; top: -130px; left: -31px; z-index: 1;" class="badgetext">
                                            <p id = "badgename2" style="color:yellow;font-size: 12px;margin-bottom: 10px;">John Hart</p>
                                            <p id = "badgevenue2" style="color:yellow;font-size: 12px;margin-bottom: 10px;" >Dunkenfield</p>
                                            <p id = "badgemonth2" style="color:yellow;font-size: 12px;margin-bottom: 10px;" >June</p>
                                        </div>
                                    </div>
                                </div>
                                <div id = "badge4" style="position:absolute; top: 90px; left: 560px; z-index: 1;display:none " class="shake1 badgeimg">
                                    <img  src="img/badge.png" alt="" id="4"> 
                                    <div style="position:relative">
                                        <div style="position:absolute; top: -130px; left: -31px; z-index: 1;" class="badgetext">
                                            <p id = "badgename4" style="color:yellow;font-size: 12px;margin-bottom: 10px;">John Hart</p>
                                            <p id = "badgevenue4" style="color:yellow;font-size: 12px;margin-bottom: 10px;" >Dunkenfield</p>
                                            <p id = "badgemonth4" style="color:yellow;font-size: 12px;margin-bottom: 10px;" >June</p>
                                        </div>
                                    </div>
                                </div>
                                <div id = "badge1" style="position:absolute; top: 90px; left: 130px; z-index: 1;display:none " class="shake1 badgeimg">
                                    <img  src="img/badge.png"  id="1"  alt=""> 
                                    <div style="position:relative">
                                        <div style="position:absolute; top: -130px; left: -31px; z-index: 1;" class="badgetext">
                                            <p id = "badgename1" style="color:yellow;font-size: 12px;margin-bottom: 10px;">John Hart</p>
                                            <p id = "badgevenue1" style="color:yellow;font-size: 12px;margin-bottom: 10px;" >Dunkenfield</p>
                                            <p id = "badgemonth1" style="color:yellow;font-size: 12px;margin-bottom: 10px;" >June</p>
                                        </div>
                                    </div>
                                </div>
                                <div id = "badge6" style="position:absolute; top: 250px; left: 550px; z-index: 1;display:none " class="shake1 badgeimg">
                                    <img  src="img/badge.png"   alt="" id="6">
                                    <div style="position:relative">
                                        <div style="position:absolute; top: -130px; left: -31px; z-index: 1;" class="badgetext">
                                            <p id = "badgename6" style="color:yellow;font-size: 12px;margin-bottom: 10px;">John Hart</p>
                                            <p id = "badgevenue6" style="color:yellow;font-size: 12px;margin-bottom: 10px;" >Dunkenfield</p>
                                            <p id = "badgemonth6" style="color:yellow;font-size: 12px;margin-bottom: 10px;" >June</p>
                                        </div>
                                    </div>
                                </div>
                                <div id = "badge5" style="position:absolute; top: 250px; left: 150px; z-index: 1;display:none " class="shake1 badgeimg">
                                    <img  src="img/badge.png"   alt="" id="7"> 
                                    <div style="position:relative">
                                        <div style="position:absolute; top: -130px; left: -31px; z-index: 1;" class="badgetext">
                                            <p id = "badgename5" style="color:yellow;font-size: 12px;margin-bottom: 10px;">John Hart</p>
                                            <p id = "badgevenue5" style="color:yellow;font-size: 12px;margin-bottom: 10px;" >Dunkenfield</p>
                                            <p id = "badgemonth5" style="color:yellow;font-size: 12px;margin-bottom: 10px;" >June</p>
                                        </div>
                                    </div>
                                </div>
                                <div id = "badge8" style="position:absolute; top: 410px; left: 470px; z-index: 1;display:none " class="shake1 badgeimg">
                                    <img  src="img/badge.png"   alt="" id="8">
                                    <div style="position:relative">
                                        <div style="position:absolute; top: -130px; left: -31px; z-index: 1;" class="badgetext">
                                            <p id = "badgename8" style="color:yellow;font-size: 12px;margin-bottom: 10px;">John Hart</p>
                                            <p id = "badgevenue8" style="color:yellow;font-size: 12px;margin-bottom: 10px;" >Dunkenfield</p>
                                            <p id = "badgemonth8" style="color:yellow;font-size: 12px;margin-bottom: 10px;" >June</p>
                                        </div>
                                    </div>
                                </div>
                                <div id = "badge7" style="position:absolute; top: 410px; left: 230px; z-index: 1;display:none " class="shake1 badgeimg">
                                    <img  src="img/badge.png"   alt="" id="7"> 
                                    <div style="position:relative">
                                        <div style="position:absolute; top: -130px; left: -31px; z-index: 1;" class="badgetext">
                                            <p id = "badgename7" style="color:yellow;font-size: 12px;margin-bottom: 10px;">John Hart</p>
                                            <p id = "badgevenue7" style="color:yellow;font-size: 12px;margin-bottom: 10px;" >Dunkenfield</p>
                                            <p id = "badgemonth7" style="color:yellow;font-size: 12px;margin-bottom: 10px;" >June</p>
                                        </div>
                                    </div>
                                </div>
                                <div id = "badge9" style="position:absolute; top: 520px; left: 345px; z-index: 1;display:none " class="shake1">
                                    <img  src="img/badge.png"   alt="" id="9" class="badgeimg">
                                    <div style="position:relative">
                                        <div style="position:absolute; top: -130px; left: -31px; z-index: 1;" class="badgetext">
                                            <p id = "badgename9" style="color:yellow;font-size: 12px;margin-bottom: 10px;">John Hart</p>
                                            <p id = "badgevenue9" style="color:yellow;font-size: 12px;margin-bottom: 10px;" >Dunkenfield</p>
                                            <p id = "badgemonth9" style="color:yellow;font-size: 12px;margin-bottom: 10px;" >June</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div id = "yearbadge" style="position:absolute; top: 400px; left: 387px; z-index: 1;" >
                                    <img  src="img/yearbadge.png" alt="">
                                    <div style="position:relative">
                                        <div style="position:absolute; top: -75px; left: -68px; z-index: 1;" class="badgetext">
                                            <p id = "badgeyearname" style="color:yellow;font-size: 16px;margin-bottom: 10px;">2017</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class = "text-center well">
                                <button type="button" class="btn btn-primary btn-arrow-left" style = "margin-bottom: 20px" id = "rollofhonourprevyearbtn">Prev</button>
                                <button type="button" class="btn btn-primary" style = "margin-left: 20px; margin-right: 20px; margin-bottom: 20px" id = "rollofhonourlistbtn">2017</button>
                                <button type="button" class="btn btn-primary btn-arrow-right" style = "margin-bottom: 20px" id = "rollofhonournextyearbtn">Next</button>
                            </div>
                            
                        </div>
                        <!-- Roll of Honour panel definition ends -->                        
                        
                        <!-- Player of the Year panel definition begins -->
                        <div id="playeroftheyearcontent" style="display:none">
                            <div class="well  text-center" >
                                
                                <div class = "hidden-md hidden-lg hidden-xl">
                                    <h3 style="display:inline-block">Player of the Year</h3>
                                </div>
                                <div class = "hidden-sm hidden-xs">
                                    <img class = "img-rounded" src="img/playeroftheyear.png" style="display:inline-block"  alt="" align="left" > 
                                    <h1 style="display:inline-block">Player of the Year</h1>
                                    <img class = "img-rounded" style="display:inline-block" src="img/playeroftheyear.png" alt=""  align="right" >
                                </div>
                            </div>
                            <div class = "score">
                                <table id = "playeroftheyeartable" class=  "table table-hover">
                                    <thead>
                                    </thead>
                                    <tbody>
                                        <tr></tr>
                                    </tbody>
                                </table>    
                            </div>
                            
                            <div class = "text-center well">
                                <button type="button" class="btn btn-primary btn-arrow-left" style = "margin-bottom: 20px" id = "playeroftheyearprevyearbtn">Prev</button>
                                <button type="button" class="btn btn-primary" style = "margin-left: 20px; margin-right: 20px; margin-bottom: 20px" id = "playeroftheyearlistbtn">2017</button>
                                <button type="button" class="btn btn-primary btn-arrow-right" style = "margin-bottom: 20px" id = "playeroftheyearnextyearbtn">Next</button>
                            </div>
                            
                        </div>
                        <!-- Player of the Year panel definition ends -->
                        
                    <!-- Logged user panel definitions begin -->
                        <!-- Account Settings panel definition begins -->
                        <div id = "accountsettings" style = "display:none">
                            <div class = "well  text-center" >  
                                <h1>Account Settings</h1>
                            </div>

                            <div class = "well" id = "changedetailspanel">
                                <label style = "margin-top:20px" for="accountusername">
                                    Login:
                                </label>
                                <input type="text" class="form-control" id="accountusername">

                                <label style = "margin-top:20px" for="accountname">
                                    Name:
                                </label>
                                <input type="text" class="form-control" id="accountname">

                                <label style = "margin-top:20px" for="accountemail">
                                    Email:
                                </label>
                                <input type="text" class="form-control" id="accountemail">

                                <label style = "margin-top:20px" for="accountphone">
                                    Phone:
                                </label>
                                <input type="text" class="form-control" id="accountphone">                                
                                <button id="updateaccountdetails" style = "margin-top:20px" type="button" class="btn btn-primary btn-block">
                                    Apply changes
                                </button>
                            </div>

                            <div class = "well" id = "changepasswordpanel">
                                <label style = "margin-top:20px" for="accountcurrentpassword">
                                    Current password:
                                </label>
                                <input type="password" class="form-control" id="accountcurrentpassword">

                                <label style = "margin-top:20px" for="accountnewpassword">
                                    New password:
                                </label>
                                <input type="password" class="form-control" id="accountnewpassword">

                                <label style = "margin-top:20px" for="accountrepeatnewpassword">
                                    Repeat new password:
                                </label>
                                <input type="password" class="form-control" id="accountrepeatnewpassword">

                                <button id="changeaccountpassword" style = "margin-top:20px" type="button" class="btn btn-primary btn-block">
                                    Change password
                                </button>
                            </div>            
                        </div>
                        <!-- Account Settings panel definition ends -->
                        
                        <!-- User Stats panel definition begins -->
                        <div id="userstats" style="display:none">
                            <div class="well  text-center" >  
                                <h1>User Stats</h1> 
                            </div>
                        </div>
                        <!-- User Stats panel definition ends -->
                    <!-- Logged user panel definitions end -->
                        
                    <!-- ADMIN  panels definitions begin -->
                        <!-- Add member panel definition begins -->
                        <div id="addmember" style="display:none">
                            <div class="well  text-center" >  
                                <h1>Add member</h1> 
                            </div>

                            <form class="form well" role="form" method="post" action="addmemberform" accept-charset="UTF-8" id="addmemberpanel">
                                <div class="form-group">
                                    <label for="addmemberusername">
                                        Username:
                                    </label>
                                    <input type="text" class="form-control" id="addmemberusername" placeholder="Username" required>
                                </div>

                                <div class="form-group">
                                    <label for="addmembername">
                                        Member name:
                                    </label>
                                    <input type="text" class="form-control" id="addmembername" placeholder="Albert Einstein" required>
                                </div>

                                <div class="form-group">
                                    <label for="addmemberhandicap">
                                        Handicap:
                                    </label>
                                    <input type="text" class="form-control" id="addmemberhandicap" placeholder="20" required>
                                </div>

                                <div class="form-group">
                                    <button id="addmemberbtn" type="button" class="btn btn-primary btn-block">
                                        Add member
                                    </button>
                                </div>
                            </form>
                        </div>
                        <!-- Add member panel definition ends -->

                        <!-- Edit contest panel definition begins -->
                        <div id="editcontest" style="display:none">
                            <div class="well  text-center" >  
                                <h1>Challenge Trophy</h1>     
                            </div>
                            
                            <button id="editdeletecontestbtn" type="button" class="btn btn-danger btn-block" style="margin-top:20px;margin-bottom:20px;">
                                        Delete Challenge Trophy
                            </button>                            
                            
                            <div id = "editcontestcontent" style="position:relative">
                            </div>
                            
                          <button id="editcontestbtn" type="button" class="btn btn-primary btn-block" style="margin-top:20px;margin-bottom:20px;">
                                        Apply Changes
                            </button>
                            
                            <div class = "text-center well">
                                <div id="editcontestlist">
                                </div>
                            </div>
                            
                            
                            
                        </div>
                        <!-- Edit contest panel definition ends -->                          
                        
                        <!-- Add contest panel definition begins -->
                        <div id="addcontest" style="display:none">
                            <div class="well  text-center" >  
                                <h1>Add Challenge Trophy</h1>     
                            </div>
                            
                            <div class="list-group" id = "contestmemberslist">
                            </div> 
    
                            <button id="contestgeneratebtn" type="button" class="btn btn-primary btn-block">
                                        Generate
                            </button>
                            
                             <label for="contestName" style="margin-top:20px">
                                        Challenge Trophy Name:
                             </label>
                             <input type="text" class="form-control" id="contestName" placeholder="" required>
                            
                            <button id="contestcreatebtn" type="button" class="btn btn-primary btn-block" style="display:none; margin-top:20px;margin-bottom:20px;">
                                        Create Challenge Trophy
                            </button>
    
                            <div id = "contestcontent" style="position:relative">
                            </div>
                            
                            
                            
                        </div>
                        <!-- Add contest panel definition ends -->                        
                        
                        <!-- Edit members panel definition begins -->
                        <div id="editmembers" style="display:none">
                            <div class="well  text-center" >  
                                <h1>Edit members</h1>     
                            </div>

                            <div class="list-group" id = "editmemberslist">
                            </div> 
                        </div>
                        <!-- Edit members panel definition ends -->
                        
                        <!-- Edit committee panel definition begins -->
                        <div id="editcommittee" style="display:none">
                            <div class="well  text-center" >  
                                <h1>Edit committee</h1>     
                            </div>

                            <div class="list-group" id = "editcommitteelist">
                            </div>
                            
                            <div class = "well" id = "editcommitteeaddmemberpanel">
                                
                                <label for="editcommitteeaddmembername">
                                        Member name:
                                </label>
                                <button id="editcommitteeaddmembernamebtn" type="button" style = "" class="btn btn-success btn-block">
                                    Choose Member
                                </button>
                                <div class="list-group" id="editcommitteeaddmembernamelist" style = "display:none">
                                </div>
                                
                                <div class="form-group" style = "margin-top:20px">
                                    <label for="editcommitteeaddmemberposition">
                                        Member position:
                                    </label>
                                    <input type="text" class="form-control" id="editcommitteeaddmemberposition" placeholder="" required>
                                </div>
                                    
                                <button id="editcommitteeaddmemberbtn" type="button" style = "margin-top:20px" class="btn btn-primary btn-block">
                                    Add Member
                                </button>
                            </div>
                        </div>
                        <!-- Edit committee panel definition ends -->                        
                        
                        <!-- Edit Society Events definition begins -->
                        <div id="editsocietyevents" style="display:none">
                            <div class="well  text-center" >  
                                <h1>Edit Society Events</h1>     
                            </div>
                            <div class = "well" id = "editeventpanel">
                                
                                <button id="deleteaventbtn" type="button" style = "margin-bottom:20px" class="btn btn-danger btn-block">
                                    Delete Event
                                </button>
                                
                                <label style = "margin-top:20px" for="editeventname">
                                    Event name:
                                </label>
                                <input type="text" class="form-control" id="editeventname">

                                <label style = "margin-top:20px" for="editeventcourse">
                                    Course:
                                </label>
                                <input type="text" class="form-control" id="editeventcourse">

                                <label style = "margin-top:20px" for="editeventpostcode">
                                    Post Code of Course:
                                </label>
                                <input type="text" class="form-control" id="editeventpostcode">
                                
                                <label style = "margin-top:20px" for="editeventclub">
                                    Club or Course Website:
                                </label>
                                <input type="text" class="form-control" id="editeventclub">

                                <div class="form-group">
                                    <label style = "margin-top:20px" for="editeventdate">
                                        Date of Event:
                                    </label>
                                    <div class='input-group date' data-date="" data-date-format="dd MM yyyy" id='editeventdate'>
                                        <input type='text' class="form-control" readonly id="editneweventdate">
                                        <span class="input-group-addon">
                                            <span class="glyphicon glyphicon-calendar"></span>
                                        </span>
                                    </div>
                                </div>

                                <label style = "margin-top:20px" for="editeventprice">
                                    Price per Head:
                                </label>
                                <input type="text" class="form-control" id="editeventprice">    
                                
                                <label style = "margin-top:20px" for="editeventwhatincluded">
                                    What's included:
                                </label>
                                <input type="text" class="form-control" id="editeventwhatincluded">
                                
                                <label style = "margin-top:20px" for="editeventmaxparticipants">
                                    Max Number of Participants:
                                </label>
                                <input type="text" class="form-control" id="editeventmaxparticipants">

                                <label style = "margin-top:20px" for="editevenorganiser">
                                    Main Event Organiser:
                                </label>
                                <input type="text" class="form-control" id="editevenorganiser">                                
                                <div class="form-group">
                                    <label style = "margin-top:20px" for="editeventteatime">
                                        First tee time:
                                    </label>
                                    <div class='input-group date form-time' data-date="" data-date-format="hh:ii" id='editeventteatime'>
                                        <input type='text' class="form-control" readonly id="editneweventteatime">
                                        <span class="input-group-addon">
                                            <span class="glyphicon glyphicon-time"></span>
                                        </span>
                                    </div>
                                </div>      
                                
                                <div class="form-group">
                                    <label for="editeventnotes">Notes:</label>
                                    <textarea class="form-control" rows="5" id="editeventnotes"></textarea>
                                </div> 
                                
                                <button id="editeventbtn" type="button" style = "margin-top:20px" class="btn btn-primary btn-block">
                                    Apply changes
                                </button>
                            </div>
                            <div class = "text-center well">
                                <div class="list-group" id="editeventlist">
                                </div> 
                                <button type="button" class="btn btn-primary btn-arrow-left" style = "margin-bottom: 20px" id = "editeventprevyearbtn">Prev</button>
                                <button type="button" class="btn btn-primary" style = "margin-left: 20px; margin-right: 20px; margin-bottom: 20px" id = "editeventlistbtn">2017</button>
                                <button type="button" class="btn btn-primary btn-arrow-right" style = "margin-bottom: 20px" id = "editeventnextyearbtn">Next</button>
                            </div>
                        </div>
                        <!-- Edit Society Event panel definition ends -->
                        
                        <!-- Add society event panel definition begins -->
                        <div id="createsocietyevent" style="display:none">
                            <div class="well  text-center" >  
                                <h1>Publish a new event</h1> 
                            </div>

                            <div class = "well" id = "basicaddeventpanel">
                                <label style = "margin-top:20px" for="addeventname">
                                    Event name:
                                </label>
                                <input type="text" class="form-control" id="addeventname" value="">

                                <label style = "margin-top:20px" for="addeventcourse">
                                    Course:
                                </label>
                                <input type="text" class="form-control" id="addeventcourse"  value="">

                                <label style = "margin-top:20px" for="addeventpostcode">
                                    Post Code of Course:
                                </label>
                                <input type="text" class="form-control" id="addeventpostcode"  value="">
                                
                                <label style = "margin-top:20px" for="addeventclub">
                                    Club or Course Website:
                                </label>
                                <input type="text" class="form-control" id="addeventclub"  value="">

                                <div class="form-group">
                                    <label style = "margin-top:20px" for="addeventdate">
                                        Date of Event:
                                    </label>
                                    <div class='input-group date' data-date-format="dd MM yyyy" id='addeventdate'>
                                        <input type='text' class="form-control" readonly id="neweventdate">
                                        <span class="input-group-addon">
                                            <span class="glyphicon glyphicon-calendar"></span>
                                        </span>
                                    </div>
                                </div>

                                <label style = "margin-top:20px" for="addeventprice">
                                    Price per Head:
                                </label>
                                <input type="text" class="form-control" id="addeventprice">    
                                
                                <label style = "margin-top:20px" for="addeventwhatincluded">
                                    What's included:
                                </label>
                                <input type="text" class="form-control" id="addeventwhatincluded"  value="">
                                
                                <label style = "margin-top:20px" for="addeventmaxparticipants">
                                    Max Number of Participants:
                                </label>
                                <input type="text" class="form-control" id="addeventmaxparticipants"  value="">

                                <label style = "margin-top:20px" for="addevenorganiser">
                                    Main Event Organiser:
                                </label>
                                <input type="text" class="form-control" id="addevenorganiser"  value="">                                
                                <div class="form-group">
                                    <label style = "margin-top:20px" for="addeventteatime">
                                        First tee time:
                                    </label>
                                    <div class='input-group date form-time' data-date="" data-date-format="hh:ii" id='addeventteatime'>
                                        <input type='text' class="form-control" id="neweventteatime" readonly>
                                        <span class="input-group-addon">
                                            <span class="glyphicon glyphicon-time"></span>
                                        </span>
                                    </div>
                                </div>      
                                
                                
                                <div class="form-group">
                                    <label for="addeventnotes">Notes:</label>
                                    <textarea class="form-control" rows="5" id="addeventnotes"  value=""></textarea>
                                </div> 
                                
                                <button id="addeventbtn" type="button" style = "margin-top:20px" class="btn btn-primary btn-block">
                                    Publish new event
                                </button>
                            </div>
                        </div>
                        <!-- Add society event panel definition ends -->
                        <!-- Add competition result panel definition begins -->
                        <div id="addcompetition" style="display:none">
                            <div class="well  text-center" >  
                                <h1>Add Scoreboard Result</h1> 
                            </div>

                            <div class = "well">
                                <button id="addcompetitionsubmitbtn" type="button" style = "margin-top:20px" class="btn btn-primary btn-block">
                                    Submit Scoreboard Result
                                </button>
                            </div>
                            
                            <form class="form well" role="form" accept-charset="UTF-8" id="addcompetitionresultpanel">
                                <div class="form-group">
                                    <label for="addcompetitioneventname">
                                        Event name:
                                    </label>
                                    <input type="text" class="form-control" id="addcompetitioneventname" placeholder="" required>
                                </div>

                                <div class="form-group">
                                    <label for="addcompetitionname">
                                        Competition
                                    </label>
                                    <input type="text" class="form-control" id="addcompetitionname" placeholder="" required>
                                </div>

                                <div class="form-group">
                                    <label for="addcompetitionvenue">
                                        Venue:
                                    </label>
                                    <input type="text" class="form-control" id="addcompetitionvenue" placeholder="" required>
                                </div>

                                <div class="form-group">
                                <label style = "margin-top:20px" for="addcompetitiondate">
                                        Date of Competition:
                                    </label>
                                    <div class='input-group date' data-date-format="dd MM yyyy" id='addcompetitiondate'>
                                        <input type='text' class="form-control" readonly id="newcompetitiondate">
                                        <span class="input-group-addon">
                                            <span class="glyphicon glyphicon-calendar"></span>
                                        </span>
                                    </div>
                                </div>  
                                
                                <div class="form-group">
                                    <label for="addcompetitionnotes">Notes:</label>
                                    <textarea class="form-control" rows="5" id="addcompetitionnotes"  value=""></textarea>
                                </div> 
                            </form>
                            
                            <table id="addcompetitionresulttable" class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Member Name</th>
                                        <th>Handicap</th>
                                        <th>Net Score</th>
                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                            
                            <div class = "well" id = "addcompetitionmemberresult">
                                
                                <label for="addcompetitionmembernamebtn">
                                        Member name:
                                </label>
                                <button id="addcompetitionmembernamebtn" type="button" style = "" class="btn btn-success btn-block">
                                    Choose Member
                                </button>
                                <div class="list-group" id="addcompetitionmemberlist" style = "display:none">
                                </div>
                                
                                <div class="form-group" style = "margin-top:20px">
                                    <label for="addcompetitionmemberhandicap">
                                        Member handicap:
                                    </label>
                                    <input type="text" class="form-control" id="addcompetitionmemberhandicap" placeholder="" required>
                                </div>
                                
                                <div class="form-group" style = "margin-top:20px">
                                    <label for="addcompetitionmembernewhandicap">
                                        Member new handicap:
                                    </label>
                                    <input type="text" class="form-control" id="addcompetitionmembernewhandicap" placeholder="" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="addcompetitionmembernetscore">
                                        Member net score:
                                    </label>
                                    <input type="text" class="form-control" id="addcompetitionmembernetscore" placeholder="" required>
                                    
                                <button id="addcompetitionmemberresultbtn" type="button" style = "margin-top:20px" class="btn btn-primary btn-block">
                                    Add Member result
                                </button>
                                </div>
                            </div>
                        
                        </div>
                        <!-- Add competition result definition ends -->
                        <!-- Edit competition result panel definition begins -->
                        <div id="editcompetition" style="display:none">
                            <div class="well  text-center" >  
                                <h1>Edit Scoreboard Results</h1> 
                            </div>

                            <div class = "well">
                                <button id="editcompetitiondeletebtn" type="button" style = "margin-top:20px" class="btn btn-danger btn-block">
                                    Delete Scoreboard Result
                                </button>
                            </div>
                            
                            <form class="form well" role="form" accept-charset="UTF-8" id="editcompetitionresultpanel">
                                <div class="form-group">
                                    <label for="editcompetitioneventname">
                                        Event name:
                                    </label>
                                    <input type="text" class="form-control" id="editcompetitioneventname" placeholder="" required>
                                </div>

                                <div class="form-group">
                                    <label for="editcompetitionname">
                                        Competition
                                    </label>
                                    <input type="text" class="form-control" id="editcompetitionname" placeholder="" required>
                                </div>

                                <div class="form-group">
                                    <label for="editcompetitionvenue">
                                        Venue:
                                    </label>
                                    <input type="text" class="form-control" id="editcompetitionvenue" placeholder="" required>
                                </div>

                                <div class="form-group">
                                <label style = "margin-top:20px" for="editcompetitiondate">
                                        Date of Competition:
                                    </label>
                                    <div class='input-group date' data-date-format="dd MM yyyy" id='editcompetitiondate'>
                                        <input type='text' class="form-control" readonly id="editnewcompetitiondate">
                                        <span class="input-group-addon">
                                            <span class="glyphicon glyphicon-calendar"></span>
                                        </span>
                                    </div>
                                </div>    
                                
                                <div class="form-group">
                                    <label for="editcompetitionnotes">Notes:</label>
                                    <textarea class="form-control" rows="5" id="editcompetitionnotes"></textarea>
                                </div> 
                                
                                <div class="well">
                                    <h3 class="text-center">First Hole</h3>
                                    <label for="editcompetitionwinner1"  style = "margin-top:20px">
                                            First winner name:
                                    </label>
                                    <button id="editcompetitionwinner1" type="button" class="btn btn-success btn-block">
                                        Choose first winner
                                    </button>
                                    <div class="list-group" id="editcompetitionwinner1list" style = "display:none">
                                    </div>

                                    <label for="editcompetitionhole1" style = "margin-top:20px">
                                            First hole number:
                                    </label>
                                    <button id="editcompetitionhole1" type="button"  class="btn btn-success btn-block">
                                        Choose first Hole
                                    </button>
                                    <div class="list-group" id="editcompetitionhole1list" style = "display:none">
                                    </div>      
                                </div>

                                <div class="well">
                                    <h3 class="text-center">Second Hole</h3>
                                    <label for="editcompetitionwinner2"  style = "margin-top:20px">
                                            Second winner name:
                                    </label>
                                    <button id="editcompetitionwinner2" type="button" class="btn btn-success btn-block">
                                        Choose second winner
                                    </button>
                                    <div class="list-group" id="editcompetitionwinner2list" style = "display:none">
                                    </div>

                                    <label for="editcompetitionhole2" style = "margin-top:20px">
                                            Second hole number:
                                    </label>
                                    <button id="editcompetitionhole2" type="button"  class="btn btn-success btn-block">
                                        Choose second Hole
                                    </button>
                                    <div class="list-group" id="editcompetitionhole2list" style = "display:none">
                                    </div>      
                                </div>
                                
                                <button id="editcompetitionsubmitbtn" type="button" style = "margin-top:20px" class="btn btn-primary btn-block">
                                    Apply changes
                                </button>
                            </form>
                            
                           <!-- <table id="editcompetitionresulttable" class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Member Name</th>
                                        <th>Handicap</th>
                                        <th>Net Score</th>
                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>-->
                            
                            <div class="list-group" id = "editcompetitionresultlist">
                            </div> 
                            
                            <div class = "well" id = "editcompetitionmemberresult">
                                
                                <label for="editcompetitionmembernamebtn">
                                        Member name:
                                </label>
                                <button id="editaddcompetitionmembernamebtn" type="button" style = "" class="btn btn-success btn-block">
                                    Choose Member
                                </button>
                                <div class="list-group" id="editaddcompetitionmemberlist" style = "display:none">
                                </div>
                                
                                <div class="form-group" style = "margin-top:20px">
                                    <label for="editcompetitionmemberhandicap">
                                        Member handicap:
                                    </label>
                                    <input type="text" class="form-control" id="editcompetitionmemberhandicap" placeholder="" required>
                                </div>
                                
                                <div class="form-group" style = "margin-top:20px">
                                    <label for="editcompetitionmembernewhandicap">
                                        Member new handicap:
                                    </label>
                                    <input type="text" class="form-control" id="editcompetitionmembernewhandicap" placeholder="" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="editcompetitionmembernetscore">
                                        Member net score:
                                    </label>
                                    <input type="text" class="form-control" id="editcompetitionmembernetscore" placeholder="" required>
                                    
                                <button id="editcompetitionmemberresultbtn" type="button" style = "margin-top:20px" class="btn btn-primary btn-block">
                                    Add Member result
                                </button>
                                </div>
                            </div>
                            
                            <div class = "text-center well">
                                <div class="list-group" id="editcompetitionlist">
                                </div> 
                                <button type="button" class="btn btn-primary btn-arrow-left" style = "margin-bottom: 20px" id = "editcompetitionlistprevyearbtn">Prev</button>
                                <button type="button" class="btn btn-primary" style = "margin-left: 20px; margin-right: 20px; margin-bottom: 20px" id = "editcompetitionlistbtn">2017</button>
                                <button type="button" class="btn btn-primary btn-arrow-right" style = "margin-bottom: 20px" id = "editcompetitionlistnextyearbtn">Next</button>
                            </div>
                        </div>
                        <!-- Edit competition result definition ends -->                        
                        
                    <!-- ADMIN  panels definitions ends -->
                    </div>
                </div>
            </div>

            <!-- About content-->
            <div class="container" id="about">
                <div class="row">
                </div>
            </div>
        
        </div>
        
        <footer>
            <!-- Footer - Contact content -->
            <div id="footer-placeholder">
            </div>
        </footer>
        
        <script>  // scripts for html menus, carrousel and date picking support 
            
                function membershiplisting() {
                    alert("AAA");
                    var hideall=document.getElementsByClassName('hideAll');
                    
                        for(var i=0; i<hideall.length; i++){
                        //Hide all elements
                        hideall[i].style.display='none';
                        }
                    
                    document.getElementById("membershiplistingcontent").style.display='block';
                
                }
                
            
                function hideAll(){     // hide all panels and clear secure data
                    $("#welcome").hide();
                    $("#welcome-sm").hide();
                    $("#committeecontent").hide();
                    $("#membershiplistingcontent").hide();
                    $("#accountsettings").hide();
                    $("#userstats").hide();
                    $("#addmember").hide();
                    $("#editmembers").hide();
                    $("#editcommittee").hide();
                    $("#createsocietyevent").hide();
                    $("#societyeventscontent").hide();
                    $("#competitionresultscontent").hide();
                    $("#playeroftheyearcontent").hide();
                    $("#editsocietyevents").hide();
                    $("#addcompetition").hide();
                    $("#editcompetition").hide();
                    $("#addcontest").hide();
                    $("#editcontest").hide();
                    $("#rollofhonourcontent").hide();
                    $("#halloffamecontent").hide();
                    $("#addcontest").hide();
                    $("#championcupcontent").hide();
                    clearSecureData();
                }
            
                function clearSecureData(){ // clear secure data like password in edit boxes
                    $("#accountrepeatnewpassword").val("");
                    $("#accountnewpassword").val("");
                    $("#accountcurrentpassword").val("");
                }            
            
            $(document).ready(function(){    
                
                 //General access links:
                
                $("#glofmenu").on("click", "#committee", function(event){;  // show committee 
                     hideAll();
                     $("#committeecontent").show();
                });
                
                $("#glofmenu").on("click", "#competitionresults", function(event){;  // show committee 
                     hideAll();
                     $("#competitionresultscontent").show();
                });

                $("#glofmenu").on("click", "#playeroftheyear", function(event){;  // show committee 
                     hideAll();
                     $("#playeroftheyearcontent").show();
                });             
                
                $("#glofmenu").on("click", "#rollofhonour", function(event){;  // show committee 
                     hideAll();
                     $("#rollofhonourcontent").show();
                });      
                
                $("#glofmenu").on("click", "#halloffame", function(event){;  // show committee 
                     hideAll();
                     $("#halloffamecontent").show();
                });
                
                $("#glofmenu").on("click", "#championcup", function(event){;  // show committee 
                     hideAll();
                     $("#championcupcontent").show();
                });
                
                $("#glofmenu").on("click", "#membershiplisting", function(event){   // show members list
                    hideAll();
                    $("#membershiplistingcontent").show();
                    for(let i = 0, length = MEMBERS.length; i < length; i++){
                        console.log(MEMBERS[i]);
                    }   
                });  
                
 
                
                $("#glofmenu").on("click", "#societyeventslisting", function(event){;  // show society events 
                     hideAll();
                     $("#societyeventscontent").show();
                });
                
                //small devices
                
                $("#glofmenu-sm").on("click", "#committee", function(event){;  // show committee 
                     hideAll();
                     $("#committeecontent").show();
                });
                
                $("#glofmenu-sm").on("click", "#competitionresults", function(event){;  // show committee 
                     hideAll();
                     $("#competitionresultscontent").show();
                });

                $("#glofmenu-sm").on("click", "#playeroftheyear", function(event){;  // show committee 
                     hideAll();
                     $("#playeroftheyearcontent").show();
                });             
                
                $("#glofmenu-sm").on("click", "#rollofhonour", function(event){;  // show committee 
                     hideAll();
                     $("#rollofhonourcontent").show();
                });      
                
                $("#glofmenu-sm").on("click", "#halloffame", function(event){;  // show committee 
                     hideAll();
                     $("#halloffamecontent").show();
                });
                
                $("#glofmenu-sm").on("click", "#championcup", function(event){;  // show committee 
                     hideAll();
                     $("#championcupcontent").show();
                });
                
                $("#glofmenu-sm").on("click", "#membershiplisting", function(event){   // show members list
                    hideAll();
                    $("#membershiplistingcontent").show();
                    for(let i = 0, length = MEMBERS.length; i < length; i++){
                        console.log(MEMBERS[i]);
                    }   
                });  
                
                $("#glofmenu-sm").on("click", "#societyeventslisting", function(event){;  // show society events 
                     hideAll();
                     $("#societyeventscontent").show();
                });
                
                //Logged user links (from top menu):
                
                $("#accountsettingsLink").on("click", function(event){ // show logged user account settings  
                    hideAll();
                    $("#accountusername").val(user.data.username);
                    $("#accountname").val(user.data.name);
                    $("#accountphone").val(user.data.phone);
                    $("#accountemail").val(user.data.email);
                    $("#accountsettings").show();
                });

                $("#userstatsLink").on("click", function(event){    // show logged user statistics
                    hideAll();
                    $("#userstats").show();
                });
                
                //Admin menu links:
                
                $("#addmemberLink").on("click", function(event){    // show add member panel 
                    hideAll();
                    $("#addmember").show();
                });

                $("#editmembersLink").on("click", function(event){  // show edits member panel
                    hideAll();
                    $("#editmembers").show();
                });
                
                $("#editcommitteeLink").on("click", function(event){  // show edits member panel
                    hideAll();
                    $("#editcommittee").show();
                });
                
                $("#editsocietyeventsLink").on("click", function(event){  // show edits member panel
                    hideAll();
                    $("#editsocietyevents").show();
                });
                
                $("#createsocietyeventLink").on("click" , function(event){  // show add event panel
                    hideAll();
                    $("#createsocietyevent").show();
                });    
                
                $("#addcompetitionresultsLink").on("click" , function(event){  // show add event panel
                    hideAll();
                    $("#addcompetition").show();
                });    
                $("#editcompetitionresultsLink").on("click" , function(event){  // show add event panel
                    hideAll();
                    $("#editcompetition").show();
                });   
                
                $("#addcontestLink").on("click" , function(event){  // show add event panel
                    hideAll();
                    $("#addcontest").show();
                });     
            
                $("#editcontestLink").on("click" , function(event){  // show add event panel
                    hideAll();
                    $("#editcontest").show();
                });
                
                // carrousel and date/time picking
                
                $('#myCarousel').carousel({ // change carrousel slide each 10s
                    interval: 10000
                });

                $('#addcompetitiondate').datetimepicker({ // fancy date picking for add competition panel
                    weekStart: 1,
                    todayBtn:  1,
                    autoclose: 1,
                    todayHighlight: 1,
                    startView: 2,
                    minView: 2,
                    forceParse: 0
                });        
                
                $('#editcompetitiondate').datetimepicker({ // fancy date picking for edit socompetition panel
                    weekStart: 1,
                    todayBtn:  1,
                    autoclose: 1,
                    todayHighlight: 1,
                    startView: 2,
                    minView: 2,
                    forceParse: 0
                });
                
                
                $('#addeventdate').datetimepicker({ // fancy date picking for add society event panel
                    weekStart: 1,
                    todayBtn:  1,
                    autoclose: 1,
                    todayHighlight: 1,
                    startView: 2,
                    minView: 2,
                    forceParse: 0
                });
                
                $('#addeventteatime').datetimepicker({ // fancy tea-time picking for add society event panel
                    autoclose: 1,
                    pickerPosition: "top-right",
                    todayHighlight: 1,
                    startView: 1,
                    minView: 0,
                    maxView: 1,
                    forceParse: 0
                });
                
                $('#editeventdate').datetimepicker({ // fancy date picking for add society event panel
                    weekStart: 1,
                    todayBtn:  1,
                    autoclose: 1,
                    todayHighlight: 1,
                    startView: 2,
                    minView: 2,
                    forceParse: 0
                });
                
                $('#editeventteatime').datetimepicker({ // fancy tea-time picking for add society event panel
                    autoclose: 1,
                    pickerPosition: "top-right",
                    todayHighlight: 1,
                    startView: 1,
                    minView: 0,
                    maxView: 1,
                    forceParse: 0
                });         
                
                
                // usefull functions:
                
                $('a .notop').click(function(e){    // do not go to the top of page after clicking .notop link
                    e.preventDefault();            
                });           
                
                $(".badgeimg").on('click', function(event){
                    let id = $(this).attr('id');
                    
                    id = id.replace("badge","");
                    
                    console.log("ID "+id);
                    
                    if(Number(id)>0 && Number(id)<10){
                        hideAll();
                        $("#competitionresultscontent").show();
                        
                        updateCompetitionList(rollYear);
                        updateCompetitionTables(rollOfHonourCompetitions[id-1]);
                    }
                });
                
                

                

            });  
        </script>
        
        <script src="https://cdn.socket.io/socket.io-1.4.5.js">
        </script> 
        
        <script>    // scripts to handle server-client communication and update data
            let User = function(){
                let self = {};
                self.loggedin = false;
                return self;
            }
            
            var user = User();
            const MEMBERS = [];
            const SOCIETY_EVENTS = [];
            const COMPETITION_RESULT = [];
            let EDIT_COMPETITION_RESULT = [];
            const ALL_COMPETITION_RESULTS = [];
            const ALL_CONTEST_RESULTS = [];
            let hallOfFame = [];
            let competitionYear = 0;
            let playerYear = 0;
            let rollYear;
            let editCompetitionYear = 0;
            let rollOfHonourCompetitions = [];
            let societyEventsYear = 0;
            let societyEditEventsYear = 0;
            let activeEditEvent = 0;
            let activeEvent = 0;
            let activeCompetition = 0;
            let activeEditCompetition = 0;
            let competitionMemberSelected = false;
            let committeeMemberSelected = false
            let competitionEditMemberSelected = false;
            let competitionFirstHoleSelected = false;
            let competitionSecondHoleSelected = false;
            let competitionFirstWinnerSelected = false;
            let competitionSecondWinnerSelected = false;
            let activeContestIndex = 0;
            let contestThirdPlace = [];
            let contestEditThirdPlace = [];
            
            let editContestIndex = 0;
            let contestMembers =[];
            let contestGrid = [];
            let gridInfo = [];
            
            let committee = [];
            var socket = io(); 
            var committeDataLoaded = false;
            
            socket.emit('dataRequest', "membershiplisting");  
            socket.emit('dataRequest', "competitionresultslisting"); 
            socket.emit('dataRequest', "societyeventslisting"); 
            socket.emit('dataRequest', "contestlisting");
            
            socket.on('contestAdded', function(data){
                ALL_CONTEST_RESULTS.push(data);

                if(ALL_CONTEST_RESULTS[0]){
                    updateEditContestTables(0);
                    updateContestGrid(ALL_CONTEST_RESULTS[0].id);
                    updateContestList(0);
                    updateEditContestList(0);
                } else{
                    $("#editcontestlist").empty();
                    $("#editcontestcontent").empty();
                    $("#championcuplist").empty();
                    $("#championcupgrid").empty();
                }                
                
                bootbox.alert({message: "New contest has been added.", backdrop: true});
            });
            
            socket.on('singleMemberCompetitionResultAdded', function(data){
                
                if(data.newhandicap !== data.handicap){
                    updateMemberHandicap(data.member.name, data.newhandicap);
                    updateMemberList();
                }
                
                ALL_COMPETITION_RESULTS.push(data);
                COMPETITION_RESULT.length = 0;
                updateCompetitionMemberList();
                
                if(activeCompetition == activeEditCompetition)
                    updateCompetitionTables(activeCompetition);                
                
                updatePlayerOfTheYearTable(playerYear);
                updateRollOfHonour(rollYear);
                bootbox.alert({message: "New member competition result has been added.", backdrop: true})
            });
            
            socket.on('competitionResultAdded', function(data){
                
                for(let i =0, length = data["results"].length; i < length; i++){
                    ALL_COMPETITION_RESULTS.push(data["results"][i]);
                    if(data["results"][i]["newhandicap"] !== data["results"][i]["handicap"]){
                        updateMemberHandicap(data["results"][i]["member"]["name"], data["results"][i]["newhandicap"]);
                    }
                }
                
                updateMemberList();

                
                
                COMPETITION_RESULT.length = 0;
                updateCompetitionMemberList();
                $('#addcompetitionresulttable').find('tbody').empty(); 
                
                $("#addcompetitionmemberhandicap").val("");
                $("#addcompetitionmembernewhandicap").val("");
                $("#addcompetitionmembernetscore").val("");
                
                $("#addcompetitioneventname").val("");
                $("#addcompetitionname").val("");
                $("#addcompetitionvenue").val("");
                $("#newcompetitiondate").val("");
                $("#addcompetitionnotes").val("");
                
               
                
                updateCompetitionList(competitionYear);
                updateaditCompetitionList(editCompetitionYear);
                
                
                updatePlayerOfTheYearTable(playerYear);
                updateRollOfHonour(rollYear);
                bootbox.alert({message: "New competition result has been added.", backdrop: true});
            });
            
            socket.on('eventAdded', function(data){
                
                console.log("MONTHAdded "+data["month"]);
                                        
                data["month"] = parseInt(data["month"], 10); 
                if(Number(data["month"]) < 10){
                    data["month"] = "0" + data["month"];
                }

                data["day"] = parseInt(data["day"], 10); 
                if(Number(data["day"]) < 10){
                    data["day"] = "0" + data["day"];
                }                
                console.log("MONTHAdded2 "+data["month"]);
                SOCIETY_EVENTS.push(data);
                sortEvents();
                updateaditSocietyEventList(societyEditEventsYear);
                updateSocietyEventList(societyEventsYear);
                bootbox.alert({message: "New Event has been added.", backdrop: true});
            });            
            
            socket.on('contestEdited', function(data){
                //socket.emit('dataRequest', "contestlisting");
                
                for(let i = 0; i < ALL_CONTEST_RESULTS.length ; i++){
                    if(  data.id == ALL_CONTEST_RESULTS[i].id) {
                        ALL_CONTEST_RESULTS[i].grid = data.grid;
                    }
                }
                
                if(ALL_CONTEST_RESULTS[0]){
                    updateEditContestTables(0);
                    updateContestGrid(ALL_CONTEST_RESULTS[0].id);
                    updateContestList(0);
                    updateEditContestList(0);
                } else{
                    $("#editcontestlist").empty();
                    $("#editcontestcontent").empty();
                    $("#championcuplist").empty();
                    $("#championcupgrid").empty();
                }

                
                bootbox.alert({message: "Challenge Trophy has been edited.", backdrop: true});
            });        
            
            socket.on('contestDeleted', function(data){
                //socket.emit('dataRequest', "contestlisting");
                
                for(let i = 0; i < ALL_CONTEST_RESULTS.length ; i++){
                    if(  data.id == ALL_CONTEST_RESULTS[i].id) {
                        ALL_CONTEST_RESULTS.splice(i,1);
                        console.log("Deleted contest.");
                    }
                }
        
                if(ALL_CONTEST_RESULTS[0]){
                    updateEditContestTables(0);
                    updateContestGrid(ALL_CONTEST_RESULTS[0].id);
                    updateContestList(0);
                    updateEditContestList(0);
                } else{
                    $("#editcontestlist").empty();
                    $("#editcontestcontent").empty();
                    $("#championcuplist").empty();
                    $("#championcupgrid").empty();
                }
                
                bootbox.alert({message: "CChallenge Trophy has been deleted.", backdrop: true});
            });             
            
            socket.on('eventEdited', function(data){
                updateavent(data);
                sortEvents();
                updateaditSocietyEventList(societyEditEventsYear);
                updateSocietyEventList(societyEventsYear);
                if(activeEvent > -1){
                    if(data.id == SOCIETY_EVENTS[activeEvent].id){
                        updateSocietyEventTable(activeEvent);
                    }
                }
                bootbox.alert({message: "Event has been edited.", backdrop: true});
            });   
            
            socket.on('eventDeleted', function(data){
                console.log("Event deleted");
                
                if(activeEvent > -1){
                    if(SOCIETY_EVENTS[activeEvent].id == data.id){
                        updateSocietyEventTable(-1);
                        activeEvent = -1;
                    }
                }
                
                deleteavent(data);
                sortEvents();
                updateaditSocietyEventForm(-1);
                activeEditEvent = -1;
                
                updateaditSocietyEventList(societyEditEventsYear);
                updateSocietyEventList(societyEventsYear);
                
                console.log("Event deleted");
                bootbox.alert({message: "Event has been deleted.", backdrop: true});
            });   
            
            socket.on('competitionDeleted', function(data){
                console.log("Competition deleted");
                
                if(activeCompetition > -1){
                    if(ALL_COMPETITION_RESULTS[activeCompetition].id == data.id){
                        updateCompetitionTables(-1);
                        activeCompetition = -1;
                    }
                }
                
                deleteCompetition(data);

                updateaditCompetitionTables(-1);
                activeEditCompetition = -1;
                
                updateaditCompetitionList(editCompetitionYear);
                updateCompetitionList(competitionYear);
                updatePlayerOfTheYearTable(playerYear);
                updateRollOfHonour(rollYear);
                console.log("Competition deleted");
                bootbox.alert({message: "Competition has been deleted.", backdrop: true});
            });   

            socket.on('competitionEdited', function(data){
                updateCompetition(data);

                updateaditCompetitionList(editCompetitionYear);
                updateCompetitionList(competitionYear);
                if(activeCompetition > -1){
                    if(data.id == ALL_COMPETITION_RESULTS[activeCompetition].id){
                        updateCompetitionTables(activeCompetition);
                    }
                }
                updatePlayerOfTheYearTable(playerYear);
                updateRollOfHonour(rollYear);
                bootbox.alert({message: "Competition has been edited.", backdrop: true});
            });         
            
            socket.on('forceWon', function(data){
                 
                 socket.emit('dataRequest', "competitionresultslisting"); 
                 bootbox.alert({message: "Member was marked as winner.", backdrop: true});
            });
            
            socket.on('memberCompetitionResultEdited', function(data){
                if(data.handicap !== data.newhandicap){
                    updateMemberHandicap(data.member.name, data.newhandicap);
                    updateMemberList();
                }
                updateMemberCompetitionResult(data);
                if(activeEditCompetition == activeCompetition)
                    updateCompetitionTables(activeCompetition);
                updatePlayerOfTheYearTable(playerYear);
                updateRollOfHonour(rollYear);
                bootbox.alert({message: "Member competition result has been edited.", backdrop: true});
            });              

            socket.on('memberCompetitionResultDeleted', function(data){
                deleteMemberCompetitionResult(data);
                updateaditCompetitionTables(activeEditCompetition);
                if(activeEditCompetition == activeCompetition)
                    updateCompetitionTables(activeCompetition);
                
                updateaditCompetitionList(editCompetitionYear);
                updateCompetitionList(competitionYear);
                
                updatePlayerOfTheYearTable(playerYear);
                updateRollOfHonour(rollYear);
                bootbox.alert({message: "Member competition result has been deleted.", backdrop: true});
                
                updateaditCompetitionMemberList();
            });               
            
            socket.on('memberAdded', function(data){
                MEMBERS.push(data);
                updateMemberList();
                updatePlayerOfTheYearTable(playerYear);
                updateRollOfHonour(rollYear);
                bootbox.alert({message: "Member has been added.", backdrop: true});
            });

            socket.on('committeeMemberAdded', function(data){
                        let member = getMemberByName($("#editcommitteeaddmembernamebtn").text());
                        
                        member["committee"] = "true";
                        member["position"] = $("#editcommitteeaddmemberposition").val();
                        console.log(member.name+' '+member["committee"]+' '+member["position"]);
            
                        
                        $('#committeetable').find('tbody').empty();
                        committee.length = 0;
                        committee = getcommittee();
                        
                        console.log('Committee '+committee.length);
                        for(let i = 0, length = committee.length; i < length; i++){
                            $('#committeetable').find('tbody').append('<tr><td>'+committee[i]["name"]+'</td><td>'+committee[i]["position"]+'</td><td>'+committee[i]["email"]+'</td><td>'+committee[i]["phone"]+'</td></tr>');       
                        }

                        $('#editcommitteelist').empty(); 

                        for(let i = 0, length = committee.length; i < length; i++){       

                            $('#editcommitteelist').append('<a href="javascript:void(0)" class="list-group-item notop list-group-item-info" id="'+i+'">'+committee[i]["name"]+'</a><ul class="list-group well" style="display:none" id="committee'+i+'" data-member="'+committee[i]["name"]+'"></ul><br>');

                            $("#committee"+i).append('<button id="deletecommitteemember" type="button" style="margin-top:20px" class="btn btn-danger btn-block">Delete Member</button>');                        

                            $("#committee"+i).append('<label for="editcommitteememberposition" style="margin-top:20px">Position:</label><input type="text" class="form-control list-group-item" id="editcommitteememberposition" placeholder="'+committee[i]["position"]+'" value="'+committee[i]["position"]+'" >');

                            $("#committee"+i).append('<button id="editcommitteemember" type="button" style="margin-top:20px" class="btn btn-primary btn-block">Apply changes</button>');
                        }

                        $('#editcommitteeaddmembernamelist').empty();

                        for(let i =0, length = MEMBERS.length; i < length; i++){
                           if(($.inArray(MEMBERS[i]["name"], committee)) == -1){
                           $('#editcommitteeaddmembernamelist').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="'+i+'" >'+MEMBERS[i]["name"]+'</a>');
                           }
                        }
                        
                        committeeMemberSelected = false;
                        $("#editcommitteeaddmembernamebtn").text("Choose Member");
                        $("#editcommitteeaddmemberposition").val("");
                
                bootbox.alert({message: "Committee member has been added.", backdrop: true});
            });
            
            socket.on('committeeMemberEdited', function(data){
                    
                $('#committeetable').find('tbody').empty();                    
                    
                    getMember(data.username)["position"] = data.position;
                
                    committee.length = 0;
                    committee = getcommittee();
                    for(let i = 0, length = committee.length; i < length; i++){
                        $('#committeetable').find('tbody').append('<tr><td>'+committee[i]["name"]+'</td><td>'+committee[i]["position"]+'</td><td>'+committee[i]["email"]+'</td><td>'+committee[i]["phone"]+'</td></tr>');       
                    }
                    
                    $('#editcommitteelist').empty(); 
                    
                    for(let i = 0, length = committee.length; i < length; i++){       
                        
                        $('#editcommitteelist').append('<a href="javascript:void(0)" class="list-group-item notop list-group-item-info" id="'+i+'">'+committee[i]["name"]+'</a><ul class="list-group well" style="display:none" id="committee'+i+'" data-member="'+committee[i]["name"]+'"></ul><br>');
                        
                        $("#committee"+i).append('<button id="deletecommitteemember" type="button" style="margin-top:20px" class="btn btn-danger btn-block">Delete Member</button>');                        
                        
                        $("#committee"+i).append('<label for="editcommitteememberposition" style="margin-top:20px">Position:</label><input type="text" class="form-control list-group-item" id="editcommitteememberposition" placeholder="'+committee[i]["position"]+'" value="'+committee[i]["position"]+'" >');
                        
                        $("#committee"+i).append('<button id="editcommitteemember" type="button" style="margin-top:20px" class="btn btn-primary btn-block">Apply changes</button>');
                    }
                
                    $('#editcommitteeaddmembernamelist').empty();
                    
                    for(let i =0, length = MEMBERS.length; i < length; i++){
                       if(($.inArray(MEMBERS[i]["name"], committee)) == -1){
                       $('#editcommitteeaddmembernamelist').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="'+i+'" >'+MEMBERS[i]["name"]+'</a>');
                       }
                    }

                bootbox.alert({message: "Committee member has been edited.", backdrop: true});
                
            });       
            
            socket.on('committeeMemberDeleted', function(data){
                    
                $('#committeetable').find('tbody').empty();                    
                    
                    getMember(data.username)["committee"] = false;
                
                    committee.length = 0;
                    committee = getcommittee();
        
                    for(let i = 0, length = committee.length; i < length; i++){
                        $('#committeetable').find('tbody').append('<tr><td>'+committee[i]["name"]+'</td><td>'+committee[i]["position"]+'</td><td>'+committee[i]["email"]+'</td><td>'+committee[i]["phone"]+'</td></tr>');       
                    }
                    
                    $('#editcommitteelist').empty(); 
                    
                    for(let i = 0, length = committee.length; i < length; i++){       
                        
                        $('#editcommitteelist').append('<a href="javascript:void(0)" class="list-group-item notop list-group-item-info" id="'+i+'">'+committee[i]["name"]+'</a><ul class="list-group well" style="display:none" id="committee'+i+'" data-member="'+committee[i]["name"]+'"></ul><br>');
                        
                        $("#committee"+i).append('<button id="deletecommitteemember" type="button" style="margin-top:20px" class="btn btn-danger btn-block">Delete Member</button>');                        
                        
                        $("#committee"+i).append('<label for="editcommitteememberposition" style="margin-top:20px">Position:</label><input type="text" class="form-control list-group-item" id="editcommitteememberposition" placeholder="'+committee[i]["position"]+'" value="'+committee[i]["position"]+'" >');
                        
                        $("#committee"+i).append('<button id="editcommitteemember" type="button" style="margin-top:20px" class="btn btn-primary btn-block">Apply changes</button>');
                    } 
                
                    $('#editcommitteeaddmembernamelist').empty();
                    
                    for(let i =0, length = MEMBERS.length; i < length; i++){
                       if(($.inArray(MEMBERS[i]["name"], committee)) == -1){
                       $('#editcommitteeaddmembernamelist').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="'+i+'" >'+MEMBERS[i]["name"]+'</a>');
                       }
                    }

                bootbox.alert({message: "Committee member has been deleted.", backdrop: true});
                
            });                
            
            socket.on('memberEdited', function(data){
                updateMember(data);
                updateMemberList();
                updatePlayerOfTheYearTable(playerYear);
                updateRollOfHonour(rollYear);
                bootbox.alert({message: "Member has been edited.", backdrop: true});
                
                socket.emit('dataRequest', "membershiplisting");  
                socket.emit('dataRequest', "competitionresultslisting"); 
                
            });          
            
            socket.on('memberDeleted', function(data){
                deleteMember(data);
                updateMemberList();
                
                socket.emit('dataRequest', "competitionresultslisting"); 
                
                updatePlayerOfTheYearTable(playerYear);
                updateRollOfHonour(rollYear);
                bootbox.alert({message: "Member has been deleted.", backdrop: true});
            });   
            
            socket.on('usernametaken', function(data){
                bootbox.alert({message: "Username already taken.", backdrop: true});
            });
            
            socket.on('membershiplistingData', function(data){ 
                $(document).ready(function() {
                    
                    //MEMBERS.length = 0;
                    MEMBERS.splice(0,MEMBERS.length);
                    
                    for(let i = 0, length = data.length; i < length; i++){
                        MEMBERS.push(data[i]);        
                    }
                    
                    sortMembersByName();
                    
                    $('#memberstable').find('tbody').empty();
                    
                    for(let i = 0, length = data.length; i < length; i++){       
                        updateMemberPanels(i);
                    }
                    
                    $('#committeetable').find('tbody').empty();                    
                    
                    committee.length = 0;
                    committee = getcommittee();
                    for(let i = 0, length = committee.length; i < length; i++){
                        $('#committeetable').find('tbody').append('<tr><td>'+committee[i]["name"]+'</td><td>'+committee[i]["position"]+'</td><td>'+committee[i]["email"]+'</td><td>'+committee[i]["phone"]+'</td></tr>');       
                    }
                    
                    $('#editcommitteelist').empty(); 
                    
                    for(let i = 0, length = committee.length; i < length; i++){       
                        
                        $('#editcommitteelist').append('<a href="javascript:void(0)" class="list-group-item notop list-group-item-info" id="'+i+'">'+committee[i]["name"]+'</a><ul class="list-group well" style="display:none" id="committee'+i+'" data-member="'+committee[i]["name"]+'"></ul><br>');
                        
                        $("#committee"+i).append('<button id="deletecommitteemember" type="button" style="margin-top:20px" class="btn btn-danger btn-block">Delete Member</button>');                        
                        
                        $("#committee"+i).append('<label for="editcommitteememberposition" style="margin-top:20px">Position:</label><input type="text" class="form-control list-group-item" id="editcommitteememberposition" placeholder="'+committee[i]["position"]+'" value="'+committee[i]["position"]+'" >');
                        
                        $("#committee"+i).append('<button id="editcommitteemember" type="button" style="margin-top:20px" class="btn btn-primary btn-block">Apply changes</button>');
                    }
                    
                    $('#editcommitteeaddmembernamelist').empty();
                    
                    for(let i =0, length = MEMBERS.length; i < length; i++){
                       if(($.inArray(MEMBERS[i]["name"], committee)) == -1){
                       $('#editcommitteeaddmembernamelist').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="'+i+'" >'+MEMBERS[i]["name"]+'</a>');
                       }
                    }
                });                      
            }); 

            socket.on('contestlistingData', function(data){ 
                $(document).ready(function() { 
                  ALL_CONTEST_RESULTS.length = 0;
                    
                    for(let i = 0, length = data.length; i < length; i++){
                        //data[i]["month"] = parseInt(data[i]["month"], 10); 
                       // data[i]["month"] = data[i]["month"];
                        ALL_CONTEST_RESULTS.push(data[i]);        
                    }
                    
                    if(ALL_CONTEST_RESULTS.length > 0){
                    
                       let counter = ALL_CONTEST_RESULTS[0].gridInfo.counter;
                        
                       $('#championcupcontent').css('min-height',(12*counter+10)*30+'px');    
                        $('#championcupgrid').css('min-height',(9*counter+15)*30+'px'); 
                        
                        
                       showContest(ALL_CONTEST_RESULTS[0].gridInfo.membersnumber,5,8*counter+10,1,8*counter+10, ALL_CONTEST_RESULTS[0].gridInfo.idStart, ALL_CONTEST_RESULTS[0].gridInfo.idParent,0, 0);
                       
                       showThirdPlace();
                    }
                    
                    if(ALL_CONTEST_RESULTS[0]){
                        updateEditContestTables(0);
                        updateContestGrid(ALL_CONTEST_RESULTS[0].id);
                        updateContestList(0);
                        updateEditContestList(0);
                    } else{
                        $("#editcontestlist").empty();
                        $("#editcontestcontent").empty();
                        $("#championcuplist").empty();
                        $("#championcupgrid").empty();
                    }
                });
            });
            
            
            socket.on('competitionresultslistingData', function(data){ 
                $(document).ready(function() {
                    console.log('DANE');
                    ALL_COMPETITION_RESULTS.length = 0;
                    
                    for(let i = 0, length = data.length; i < length; i++){
                        data[i]["month"] = parseInt(data[i]["month"], 10); 
                       // data[i]["month"] = data[i]["month"];
                        ALL_COMPETITION_RESULTS.push(data[i]);        
                    }
                    
                    let index = getLastCompetitionIndex();
                    activeCompetition = index;
                    activeEditCompetition = index;
                    
                    competitionYear = ALL_COMPETITION_RESULTS[activeCompetition]["year"];
                    editCompetitionYear = ALL_COMPETITION_RESULTS[activeEditCompetition]["year"];
                    playerYear = competitionYear; 
                    rollYear = competitionYear;
                    
                    updateCompetitionTables(index);
                    updateCompetitionList(competitionYear);
                    
                    updateaditCompetitionTables(index);
                    updateaditCompetitionList(editCompetitionYear);
                    
                    updatePlayerOfTheYearTable(playerYear);
                    updateRollOfHonour(rollYear);
                    updateHallOfFame();
                });
            });
            
            socket.on('societyeventslistingData', function(data){ 
                $(document).ready(function() {
                    for(let i = 0, length = data.length; i < length; i++){
                        data[i]["month"] = parseInt(data[i]["month"], 10); 
                       // data[i]["month"] = data[i]["month"];
                        SOCIETY_EVENTS.push(data[i]);        
                    }
                    sortEvents();
                    
                    let index = getLastEventIndex();
                    activeEditEvent = index;
                    activeEvent = index;
                    console.log('index '+index);
                    updateSocietyEventTable(index);
                    updateaditSocietyEventForm(index);
                    
                    societyEventsYear = SOCIETY_EVENTS[index]["year"];
                    societyEditEventsYear = SOCIETY_EVENTS[index]["year"];
                    
                    updateSocietyEventList(SOCIETY_EVENTS[index]["year"]);
                    updateaditSocietyEventList(SOCIETY_EVENTS[index]["year"]);
                    
                });                      
            }); 
            
            socket.on('passwordCorrect', function(data){
                if(($("#accountnewpassword").val()) === ($("#accountrepeatnewpassword").val())){
                    socket.emit('changePassword', {username: user.data.username, password: $('#accountnewpassword').val()});
                } else{
                    bootbox.alert({message: "New password doesn't match repeat password. Try again.", backdrop: true});
                }
            });
            
            socket.on('passwordIncorrect', function(data){
                bootbox.alert({message: "Current password incorrect!", backdrop: true});
            });
            
            socket.on('passwordChanged', function(data){
                bootbox.alert({message: "Password was changed!", backdrop: true});
            });
            
            socket.on('userDetailsChanged', function(data){     
                let member = getMember(user.data.username);
                
                member["username"] = data.username;
                member["name"] = data.name;
                member["email"] = data.email;
                member["phone"] = data.phone;
                
                user.data.name = member["name"];
                user.data.username = member["username"];
                user.data.email = member["email"];
                user.data.phone = member["phone"];
                
                updateMemberList();
                
                $("#accountusername").val(user.data.username);
                $("#accountname").val(user.data.name);
                $("#accountemail").val(user.data.email);
                $("#accountphone").val(user.data.phone);
                    
                showUserTab();
                
                bootbox.alert({message: "User details were changed!", backdrop: true});
                
                socket.emit('dataRequest', "membershiplisting");  
                socket.emit('dataRequest', "competitionresultslisting"); 
            });
            
            socket.on('signInResponse', function(data){
                if(data.success){
                    user.loggedin = true;
                    user["data"] = data;
                    
                    if(data.username !== "admin"){
                        let member = (getMember(data.username));
                        user.data.name = member["name"];
                        user.data.phone = member["phone"];
                        user.data.email = member["email"];
                        $("#changedetailspanel").show();
                    } else{
                        $("#changedetailspanel").hide();
                    }
                       
                   showUserTab();
                    
                   if(user["data"].admin === "true"){
                       $("#adminpanel").show();
                       $("#adminpanel-sm").show();
                       
                            $("#addmemberLink").show();
                           $("#editmembersLink").show();
                           $("#editcommitteeLink").show();
                           $("#createsocietyeventLink").show();
                           $("#editsocietyeventsLink").show();
                           $("#addcompetitionresultsLink").show();
                           $("#editcompetitionresultsLink").show();
                   }  else{
                       if(user.loggedin){
                           $("#adminpanel").show();
                           $("#adminpanel-sm").show();
                           
                           $("#addmemberLink").hide();
                           $("#editmembersLink").hide();
                           $("#editcommitteeLink").hide();
                           $("#createsocietyeventLink").show();
                           $("#editsocietyeventsLink").hide();
                           $("#addcompetitionresultsLink").hide();
                           $("#editcompetitionresultsLink").hide();
                           
                                 
                       }
                   }  
                }
            });
            
            $(document).ready(function() {
                $("#loginbtn").on("click", function(event){
                    socket.emit('signIn', {username: $('#loginUsername').val(), password: $('#loginPassword').val()} );
                });

                
                $("#editcommitteeaddmemberbtn").on("click", function(event){
                    if(checkMemberCommitteeResultFormValidation()){
                        
                        let member = getMemberByName($("#editcommitteeaddmembernamebtn").text());
                        
                        socket.emit('addCommitteeMember',{username: member.username, position: member.position});
                    }
                    
                });                
                
                $("#addcompetitionmemberresultbtn").on("click", function(event){
                    if(checkMemberCompetitionResultFormValidation()){
                        $('#addcompetitionresulttable').find('tbody').append('<tr><td>'+$("#addcompetitionmembernamebtn").text() +'</td><td>'+ $("#addcompetitionmemberhandicap").val() +'</td><td>'+ $("#addcompetitionmembernetscore").val() + '</td></tr>');
                        
                        COMPETITION_RESULT.push({member: getMemberByName($("#addcompetitionmembernamebtn").text()), handicap: $("#addcompetitionmemberhandicap").val(), newhandicap: $("#addcompetitionmembernewhandicap").val(), netscore: $("#addcompetitionmembernetscore").val()});
                        console.log(getMemberByName($("#addcompetitionmembernamebtn").text())["name"]);
                        
                        competitionMemberSelected = false;
                        $("#addcompetitionmembernamebtn").text("Choose Member");
                        $("#addcompetitionmemberhandicap").val("");
                        $("#addcompetitionmembernewhandicap").val("");
                        $("#addcompetitionmembernetscore").val("");
                        
                        updateCompetitionMemberList();
                    }
                    
                });
                
                
                $("#editcontestbtn").on("click", function(event){
                    
                    if(ALL_CONTEST_RESULTS[editContestIndex]){
                        socket.emit('editContest',ALL_CONTEST_RESULTS[editContestIndex]);
                    }
                    
                });
                
                $("#editdeletecontestbtn").on("click", function(event){
                    
                    bootbox.confirm("Are you sure to delete contest '"+ALL_CONTEST_RESULTS[editContestIndex].name+"' ?" , function(result){
                        if(result){
                            if(ALL_CONTEST_RESULTS[editContestIndex]){
                                socket.emit('deleteContest', ALL_CONTEST_RESULTS[editContestIndex]); 
                            }
                        }
                    });                     
                });
                                
                
                $("#editcompetitionmemberresultbtn").on("click", function(event){
                    if(checkEditMemberCompetitionResultFormValidation()){
                        
                        socket.emit('addSingleMemberCompetitionResult',{handicap: $("#editcompetitionmemberhandicap").val(), newhandicap: $("#editcompetitionmembernewhandicap").val(), netscore: $("#editcompetitionmembernetscore").val(), id: ALL_COMPETITION_RESULTS[activeEditCompetition].id, member: getMemberByName($("#editaddcompetitionmembernamebtn").text()), eventname: ALL_COMPETITION_RESULTS[activeEditCompetition]["eventname"],competitionname: ALL_COMPETITION_RESULTS[activeEditCompetition]["competitionname"],venue: ALL_COMPETITION_RESULTS[activeEditCompetition]["venue"], year: ALL_COMPETITION_RESULTS[activeEditCompetition]["year"], month: ALL_COMPETITION_RESULTS[activeEditCompetition]["month"], day: ALL_COMPETITION_RESULTS[activeEditCompetition]["day"]});
                        
                         
                        EDIT_COMPETITION_RESULT.push({member: getMemberByName($("#editaddcompetitionmembernamebtn").text()), handicap: $("#editcompetitionmemberhandicap").val(), newhandicap: $("#editcompetitionmembernewhandicap").val(), netscore: $("#editcompetitionmembernetscore").val()});
                        
                        competitionEditMemberSelected = false;
                        $("#editaddcompetitionmembernamebtn").text("Choose Member");
                        $("#editcompetitionmemberhandicap").val("");
                        $("#editcompetitionmembernewhandicap").val("");
                        $("#editcompetitionmembernetscore").val("");
                        
                        //updateaditCompetitionTables(activeEditCompetition);
                        updateaditCompetitionMemberList();
                        let last = EDIT_COMPETITION_RESULT.length-1;
                        let i =last;
                        
                        $('#editcompetitionresultsscoretable').find('tbody').append('<tr><td>'+EDIT_COMPETITION_RESULT[last]["member"]["name"] +'</td><td>'+ EDIT_COMPETITION_RESULT[last]["handicap"] +'</td><td>'+ EDIT_COMPETITION_RESULT[last]["netscore"] + '</td></tr>');
                        
                        $('#editcompetitionresultlist').append('<a href="javascript:void(0)" class="list-group-item notop list-group-item-info" id="'+i+'">'+EDIT_COMPETITION_RESULT[last]["member"]["name"]+'</a><ul class="list-group well" style="display:none" id="competitionresult'+i+'" data-member="'+EDIT_COMPETITION_RESULT[last]["member"]["name"]+'"></ul><br>');
                        
                        //edit panel - adding members information
                        
                        $("#competitionresult"+i).append('<button id="deletemembercompetitionresult" type="button" style="margin-top:20px" class="btn btn-danger btn-block">Delete Member</button>');                        

                        $("#competitionresult"+i).append('<label for="editmembernetscorecompetitionresult" style="margin-top:20px">Member net score:</label><input type="text" class="form-control list-group-item" id="editmembernetscorecompetitionresult" placeholder="'+EDIT_COMPETITION_RESULT[last]["netscore"]+'" value="'+EDIT_COMPETITION_RESULT[last]["netscore"]+'">');

                        $("#competitionresult"+i).append('<label for="editmemberhandicapcompetitionresult" style="margin-top:20px">Member handicap:</label><input type="text" class="form-control list-group-item" id="editmemberhandicapcompetitionresult" placeholder="'+EDIT_COMPETITION_RESULT[last]["handicap"].toString()+'"  value="'+EDIT_COMPETITION_RESULT[last]["handicap"].toString()+'">');
                        
                        $("#competitionresult"+i).append('<label for="editmembernewhandicapcompetitionresult" style="margin-top:20px">Member new handicap:</label><input type="text" class="form-control list-group-item" id="editmembernewhandicapcompetitionresult" placeholder="'+getMemberHandicap(EDIT_COMPETITION_RESULT[last]["member"]["name"], true)+'"  value="'+getMemberHandicap(EDIT_COMPETITION_RESULT[last]["member"]["name"], true)+'">');

                        $("#competitionresult"+i).append('<button id="editmembercompetitionresult" type="button" style="margin-top:20px" class="btn btn-primary btn-block">Apply changes</button>');                        
                        
                        //console.log(getMemberByName($("#addcompetitionmembernamebtn").text())["name"]);
                        
                     /*   $('#editcompetitionresulttable').find('tbody').append('<tr><td>'+$("#addcompetitionmembernamebtn").text() +'</td><td>'+ $("#addcompetitionmemberhandicap").val() +'</td><td>'+ $("#addcompetitionmembernetscore").val() + '</td></tr>');*/
                        /*
                        COMPETITION_RESULT.push({member: getMemberByName($("#addcompetitionmembernamebtn").text()), handicap: $("#addcompetitionmemberhandicap").val(), netscore: $("#addcompetitionmembernetscore").val()});
                        console.log(getMemberByName($("#addcompetitionmembernamebtn").text())["name"]);
                        
                        competitionMemberSelected = false;
                        $("#addcompetitionmembernamebtn").text("Choose Member");
                        $("#addcompetitionmemberhandicap").val("");
                        $("#addcompetitionmembernetscore").val("");
                        
                        updateCompetitionMemberList();*/
                    }
                    
                });
                
                $("#addcompetitionsubmitbtn").on("click", function(event){
                    let date = $("#addcompetitiondate").datetimepicker('getDate');
                    
                   if(checkCompetitionFormValidation()){
                       
                        let day = parseInt(date.getDate(), 10);
                        let month = Number(Number(date.getMonth())+1);
                        
                        if(Number(day) < 10){
                            day = "0" + day;
                        }
                        
                        if(Number(month) < 10){
                            month = "0" + month;
                        }
                       
                       socket.emit('addCompetitionResult', {results: COMPETITION_RESULT, eventname: $("#addcompetitioneventname").val(), competitionname: $("#addcompetitionname").val(), venue: $("#addcompetitionvenue").val(), month: month, year: date.getFullYear(), day: day, notes: $("#addcompetitionnotes").val() });
                   } 
                });
                
                $("#addmemberbtn").on("click", function(event){
                    if(checkMemberFormValidation()){
                        socket.emit('addMember', {username:$("#addmemberusername").val(), password: $("#addmemberusername").val(), name: $("#addmembername").val(), 
                        handicapExact:$("#addmemberhandicap").val(), email:"", admin:"false", handicapPlaying:$("#addmemberhandicap").val(), phone:"", committee: "false"});
                    }
                });
                
                $("#contestcreatebtn").on("click", function(event){
                    
                    socket.emit('addChampionCup',{grid: contestGrid, name: $("#contestName").val(), gridInfo: gridInfo[0]});
                    console.log("Name contest " + $("#contestName").val());
                });
                
                
                
                $("#addeventbtn").on("click", function(event){
                    let date = $("#addeventdate").datetimepicker('getDate');
                    console.log('YEAR ' + date.getFullYear() + 'DAY '+date.getDate());
                    
                    if(checkAddSocietyEventFormValidation()){
                            let day = parseInt(date.getDate(), 10);
                            let month = Number(Number(date.getMonth())+1);
                        
                            if(Number(day) < 10){
                                day = "0" + day;
                            }
                        
                            if(Number(month) < 10){
                                month = "0" + month;
                            }
                            console.log("MONTHAdd "+month);
                            socket.emit('addSocietyEvent',{name: $("#addeventname").val(), course: $("#addeventcourse").val(), postcode: $("#addeventpostcode").val(), website: $("#addeventclub").val(), price: $("#addeventprice").val(), included: $("#addeventwhatincluded").val(), maxplayers: $("#addeventmaxparticipants").val(), organiser: $("#addevenorganiser").val(), firstteatime: $("#neweventteatime").val(), notes: $("#addeventnotes").val(), month: month, year: date.getFullYear(), day: day}); 
                        }
                });
                
                
                $("#editmemberslist").on("click", "a", function(event){
                    let id = $(this).attr('id');
                    let propertiesId = "#member"+id;
                    
                    $(propertiesId).slideToggle();
                });
                
                $("#contestmemberslist").on("click", "a", function(event){
                    let id = $(this).attr('id');
                    if($(this).hasClass( "list-group-item-info")){
                        $(this).removeClass("list-group-item-info");
                        $(this).addClass("list-group-item-success");
                    } else{
                        $(this).removeClass("list-group-item-success");
                        $(this).addClass("list-group-item-info");
                    }
                    
                    //let propertiesId = "#member"+id;
                    
                    //$(propertiesId).slideToggle();
                });
    
                $("#editcommitteelist").on("click", "a", function(event){
                    let id = $(this).attr('id');
                    let propertiesId = "#committee"+id;
                    
                    $(propertiesId).slideToggle();
                });
                
                $("#eventlist").on("click", "a", function(event){
                    let id = $(this).attr('id');
                    
                    updateSocietyEventTable(id);
                    activeEvent = id;
                });
                
                $("#editeventlist").on("click", "a", function(event){
                    let id = $(this).attr('id');
                    
                    updateaditSocietyEventForm(id);
                    activeEditEvent = id;
                });

                $("#editcompetitionresultlist").on("click", "a", function(event){
                    let id = $(this).attr('id');
                    let propertiesId = "#competitionresult"+id;
                    
                    $(propertiesId).slideToggle();
                });                
                
                $("#competitionlist").on("click", "a", function(event){
                    let id = $(this).attr('id');
                    
                    updateCompetitionTables(id);
                    activeCompetition = id;
                });
                
                
                
                $("#championcuplist").on("click", "a", function(event){
                    let id = $(this).attr('id');
                    
                    updateContestGrid(id);
                    //activeCompetition = id;
                });
                
                $("#editcontestlist").on("click", "a", function(event){
                    let id = $(this).attr('id');
                    
                    updateEditContestGrid(id);
                    //(id);
                    //activeCompetition = id;
                });
                
                $("#contestcontent").on("click", "button", function(event){
                    /*let id = $(this).attr('id');
                    console.log(id);
                    let name = "";
                    let parent = -1;
                    
                    for(let i = 0; i < contestGrid.length; i++){
                        if(contestGrid[i].id == id){
                            parent = contestGrid[i].parentId;
                            name = contestGrid[i].name;
                            break;
                        }
                    }
                    
                    for(let i = 0; i < contestGrid.length; i++){
                        if(contestGrid[i].id == parent){
                            contestGrid[i].name = name;
                            break;
                        }
                    }
                    
                    $("#contestcontent").find('#'+parent).text(name);*/
                });
                
                $("#editcontestcontent").on("click", "button", function(event){
                    let id = $(this).attr('id');
                    console.log(id);
                    
                    if(!(id == "editthirdplace1" || id == "editthirdplace2")){

                        let name = "";
                        let parent = -1;
                        if(ALL_CONTEST_RESULTS.length >0){
                            contestGrid = ALL_CONTEST_RESULTS[editContestIndex].grid;

                            for(let i = 0; i < contestGrid.length; i++){
                                if(contestGrid[i].id == id){
                                    parent = contestGrid[i].parentId;
                                    name = contestGrid[i].name;
                                    break;
                                }
                            }

                            let parenttmpname = parent;
                             let parenttmp = parent;

                            for(let i = 0; i < contestGrid.length; i++){
                                if(contestGrid[i].id == parent){
                                    parenttmpname = contestGrid[i].name;
                                    parenttmp = contestGrid[i].parentId;
                                    contestGrid[i].name = name;
                                    break;
                                }
                            }

                            $("#editcontestcontent").find('#'+parent).text(name);

                            let exit = 1;

                            if(parenttmpname != name){
                                while(exit > 0){        
                                    exit  = 0;
                                    for(let i = 0; i < contestGrid.length; i++){
                                        if(contestGrid[i].id == parenttmp){

                                            if(contestGrid[i].name ==  parenttmpname){
                                                contestGrid[i].name = "";
                                                $("#editcontestcontent").find('#'+parenttmp).text("");
                                                parenttmp = contestGrid[i].parentId;

                                                exit = 1;
                                            } 

                                            break;
                                        }
                                    }      

                                } 
                            }



                        }
                        
                        contestEditThirdPlace.length = 0;    
                    
                        //
                        updateEditContestTables(editContestIndex);
                        updateEditContestGrid(ALL_CONTEST_RESULTS[editContestIndex].id);
                        showEditThirdPlace();
                    }
   
                    

                    
                    if(id == "editthirdplace1" || id == "editthirdplace2"){
                         let name = $("#editcontestcontent").find('#'+id).text();
                         $("#editcontestcontent").find('#thirdplace').text(name);
                         ALL_CONTEST_RESULTS[editContestIndex].third = name;
                    }
                    
                });                
                
                $("#editcompetitionlist").on("click", "a", function(event){
                    let id = $(this).attr('id');
                    
                    updateaditCompetitionTables(id);
                    activeEditCompetition = id;
                });
                
                $("#addcompetitionmemberlist").on("click", "a", function(event){
                    let name = $(this).text();
                    $("#addcompetitionmembernamebtn").text(name);
                    $("#addcompetitionmemberhandicap").val(getMemberHandicap(name));
                    $("#addcompetitionmembernewhandicap").val(getMemberHandicap(name, true));
                    competitionMemberSelected = true;
                    $("#addcompetitionmemberlist").slideToggle();
                });
                
                $("#editcommitteeaddmembernamelist").on("click", "a", function(event){
                    let name = $(this).text();
                    $("#editcommitteeaddmembernamebtn").text(name);
                    committeeMemberSelected = true;
                    $("#editcommitteeaddmembernamelist").slideToggle();
                });
                
                $("#editaddcompetitionmemberlist").on("click", "a", function(event){
                    let name = $(this).text();
                    $("#editaddcompetitionmembernamebtn").text(name);
                    $("#editcompetitionmemberhandicap").val(getMemberHandicap(name));
                    $("#editcompetitionmembernewhandicap").val(getMemberHandicap(name, true));
                    competitionEditMemberSelected = true;
                    $("#editaddcompetitionmemberlist").slideToggle();
                });
                
                $("#editcompetitionwinner1list").on("click", "a", function(event){
                    let name = $(this).text();
                    $("#editcompetitionwinner1").text(name);
                   // if($("#editcompetitionwinner1").text(name) !== "none")
                        competitionFirstWinnerSelected = true;
                    $("#editcompetitionwinner1list").slideToggle();
                });      
                
                $("#editcompetitionwinner2list").on("click", "a", function(event){
                    let name = $(this).text();
                    $("#editcompetitionwinner2").text(name);
                    //if($("#editcompetitionwinner2").text(name) !== "none")
                        competitionSecondWinnerSelected = true;
                    $("#editcompetitionwinner2list").slideToggle();
                });                
                
                $("#editcompetitionhole1list").on("click", "a", function(event){
                    let name = $(this).text();
                    $("#editcompetitionhole1").text(name);
                    if($("#editcompetitionhole1").text(name) !== "none")
                        competitionFirstHoleSelected = true;
                    $("#editcompetitionhole1list").slideToggle();
                });            
                
                $("#editcompetitionhole2list").on("click", "a", function(event){
                    let name = $(this).text();
                    $("#editcompetitionhole2").text(name);
                    if($("#editcompetitionhole2").text(name) !== "none")
                        competitionSecondHoleSelected = true;
                    $("#editcompetitionhole2list").slideToggle();
                });             

                $("#contestgeneratebtn").on("click", function(event){
                    $('#contestcontent').empty();
                    
                    contestMembers =[];
                    
                    let usersHighlited = 0;
                    
                    $('#contestmemberslist').children('a').each(function(){
                        if($(this).hasClass("list-group-item-success")){
                            usersHighlited++;
                            contestMembers.push($(this).text());
                            console.log($(this).text());
                        }
                    })
                    
                    let counter = 0;
                    //let num = Number($("#contestsize").val());
                    
                    let num = usersHighlited;
                    
                    contestMembers.sort(function(a, b){return 0.5 - Math.random()});
                    
                    if(num>0){
                        while(Math.floor(num)>1){
                            num= num/2;
                            counter++;
                        }
                        
                        let idStart = Math.ceil((Math.pow(2, counter+2)-1)/2); 
                        let idParent = Math.pow(2, counter+2);
                        
                        if(counter>0 ){
                            counter--;
                        }

                         $('#contestcontent').css('height',(9*counter+10)*30+'px');
                        
                        
                        contestGrid = [];
                        gridInfo = [];
                        gridInfo.push({membersnumber:usersHighlited, counter: counter, idStart: idStart, idParent: idParent});
                        
                        generateContest(usersHighlited, 5, 8*counter+10,1, 8*counter+10,idStart, idParent);
                        
                        $('#contestcreatebtn').show();
                    }
                    
                });                    
                
                $("#editcommitteeaddmembernamebtn").on("click", function(event){
                    $("#editcommitteeaddmembernamelist").slideToggle();
                });                 
                
                $("#addcompetitionmembernamebtn").on("click", function(event){
                    $("#addcompetitionmemberlist").slideToggle();
                }); 

                $("#editcompetitionhole1").on("click", function(event){
                    $("#editcompetitionhole1list").slideToggle();
                });                 
                
                $("#editcompetitionhole2").on("click", function(event){
                    $("#editcompetitionhole2list").slideToggle();
                });     
                
                $("#editcompetitionwinner2").on("click", function(event){
                    $("#editcompetitionwinner2list").slideToggle();
                });          
                
                $("#editcompetitionwinner1").on("click", function(event){
                    $("#editcompetitionwinner1list").slideToggle();
                });          
                
                $("#editaddcompetitionmembernamebtn").on("click", function(event){
                    $("#editaddcompetitionmemberlist").slideToggle();
                }); 
                
                
                $("#rollofhonournextyearbtn").on("click", function(event){
                    if(rollYear < ALL_COMPETITION_RESULTS[getLastCompetitionIndex()]["year"]){
                        rollYear++;
                        updateRollOfHonour(rollYear);
                    }
                }); 
                
                $("#rollofhonourprevyearbtn").on("click", function(event){
                    if(rollYear > ALL_COMPETITION_RESULTS[getOldestCompetitionIndex()]["year"]){
                        rollYear--;
                        updateRollOfHonour(rollYear);
                    }
                });                
                
                $("#playeroftheyearnextyearbtn").on("click", function(event){
                    if(playerYear < ALL_COMPETITION_RESULTS[getLastCompetitionIndex()]["year"]){
                        playerYear++;
                        updatePlayerOfTheYearTable(playerYear);
                    }
                }); 
                
                $("#playeroftheyearprevyearbtn").on("click", function(event){
                    if(playerYear > ALL_COMPETITION_RESULTS[getOldestCompetitionIndex()]["year"]){
                        playerYear--;
                        updatePlayerOfTheYearTable(playerYear);
                    }
                });
                
                $("#competitionlistnextyearbtn").on("click", function(event){
                    if(competitionYear < ALL_COMPETITION_RESULTS[getLastCompetitionIndex()]["year"]){
                        competitionYear++;
                        updateCompetitionList(competitionYear);
                    }
                });  

                $("#competitionlistprevyearbtn").on("click", function(event){
                    if(competitionYear > ALL_COMPETITION_RESULTS[getOldestCompetitionIndex()]["year"]){
                        competitionYear--;
                        updateCompetitionList(competitionYear);
                    }
                });

                $("#editcompetitionlistnextyearbtn").on("click", function(event){
                    if(editCompetitionYear < ALL_COMPETITION_RESULTS[getLastCompetitionIndex()]["year"]){
                        editCompetitionYear++;
                        updateaditCompetitionList(editCompetitionYear);
                    }
                });    

                $("#editcompetitionlistprevyearbtn").on("click", function(event){
                    if(editCompetitionYear > ALL_COMPETITION_RESULTS[getOldestCompetitionIndex()]["year"]){
                        editCompetitionYear--;
                        updateaditCompetitionList(editCompetitionYear);
                    }
                });
                
                $("#eventnextyearbtn").on("click", function(event){
                    console.log("Year "+societyEventsYear+"");
                    if(societyEventsYear < SOCIETY_EVENTS[getLastEventIndex()]["year"]){
                        societyEventsYear++;
                        updateSocietyEventList(societyEventsYear);
                    }
                });

                $("#eventprevyearbtn").on("click", function(event){
                    console.log("Year p"+getOldestEventIndex());
                    if(societyEventsYear > SOCIETY_EVENTS[getOldestEventIndex()]["year"]){
                        societyEventsYear--;
                        updateSocietyEventList(societyEventsYear);
                    }
                });
                
                $("#editeventnextyearbtn").on("click", function(event){
                    console.log("Year "+societyEditEventsYear+"");
                    if(societyEditEventsYear < SOCIETY_EVENTS[getLastEventIndex()]["year"]){
                        societyEditEventsYear++;
                        updateaditSocietyEventList(societyEditEventsYear);
                    }
                });

                $("#editeventprevyearbtn").on("click", function(event){
                    console.log("Year p"+getOldestEventIndex());
                    if(societyEditEventsYear > SOCIETY_EVENTS[getOldestEventIndex()]["year"]){
                        societyEditEventsYear--;
                        updateaditSocietyEventList(societyEditEventsYear);
                    }
                });
                
                $("#changepasswordpanel").on("click","button",function(event){
                    
                    socket.emit('checkCurrentPassword', {username: user.data.username, password: $("#accountcurrentpassword").val()});
                });
                
                $("#changedetailspanel").on("click","button",function(event){
                    if(checkUserDetailsFormValidation()){
                        socket.emit('changeUserDetails',{username: $("#accountusername").val(), oldusername: user.data.username, name: $("#accountname").val(), oldname: user.data.name, phone: $("#accountphone").val(), email: $("#accountemail").val()});   
                    }                    
                });
                
                 $("#editeventpanel").on("click", "button" ,function(event){
                     
                    if(($(this).attr('id')) == "editeventbtn" && activeEditEvent >= 0){
                        if(checkEditSocietyEventFormValidation()){
                            let date = $("#editeventdate").datetimepicker('getDate');
                            
                            let day = parseInt(date.getDate(), 10);
                            let month = Number(Number(date.getMonth())+1);
                        
                            if(Number(day) < 10){
                                day = "0" + day;
                            }
                        
                            if(Number(month) < 10){
                                month = "0" + month;
                            }
                            
                            socket.emit('editSocietyEvent',{name: $("#editeventname").val(), course: $("#editeventcourse").val(), postcode: $("#editeventpostcode").val(), website: $("#editeventclub").val(), price: $("#editeventprice").val(), included: $("#editeventwhatincluded").val(), maxplayers: $("#editeventmaxparticipants").val(), organiser: $("#editevenorganiser").val(), firstteatime: $("#editneweventteatime").val(), notes: $("#editeventnotes").val(), month: month, year: date.getFullYear(), day: day, id: SOCIETY_EVENTS[activeEditEvent]["id"]}); 
                        }
                    } else{
                        if(activeEditEvent >= 0){
                            bootbox.confirm("Are you sure to delete event '"+$("#editeventname").val()+"' ?" , function(result){
                                if(result){
                                    socket.emit('deleteavent',{id: SOCIETY_EVENTS[activeEditEvent]["id"]});  
                                }
                            }); 
                        }
                    }
                     
                 });
                
                $("#editcompetition").on("click", "button" ,function(event){
                     
                    if(($(this).attr('id')) == "editcompetitionsubmitbtn" && activeEditCompetition >= 0){
                        if(checkEditCompetitionFormValidation()){
                            let date = $("#editcompetitiondate").datetimepicker('getDate');

                            let day = parseInt(date.getDate(), 10);
                            let month = Number(Number(date.getMonth())+1);
                        
                            if(Number(day) < 10){
                                day = "0" + day;
                            }
                        
                            if(Number(month) < 10){
                                month = "0" + month;
                            }
                            
                            let firsthole = "";
                            let secondhole = "";   
                            
                            let firstwinner = "";
                            let secondwinner = "";   
                            
                            if(competitionFirstHoleSelected && competitionFirstWinnerSelected){
                                if($("#editcompetitionhole1").text() !== "none")
                                    firsthole = $("#editcompetitionhole1").text();
                                
                                //if($("#editcompetitionwinner1").text() !== "none")
                                    firstwinner = $("#editcompetitionwinner1").text();
                            }
                            
                            if(competitionSecondHoleSelected && competitionSecondWinnerSelected){
                                
                            if($("#editcompetitionhole2").text() !== "none")
                                secondhole = $("#editcompetitionhole2").text();
                                
                           // if($("#editcompetitionwinner2").text() !== "none")
                                secondwinner = $("#editcompetitionwinner2").text();
                            }
                            
                            
                            
                            socket.emit('editCompetition',{eventname: $("#editcompetitioneventname").val(), competitionname: $("#editcompetitionname").val(), venue: $("#editcompetitionvenue").val(), month: month, year: date.getFullYear(), day: day, id: ALL_COMPETITION_RESULTS[activeEditCompetition]["id"], notes: $("#editcompetitionnotes").val(), firsthole: firsthole, firstwinner: firstwinner, secondhole: secondhole, secondwinner: secondwinner}); 
                        }
                    } else if(($(this).attr('id')) == "editcompetitiondeletebtn"){
                        if(activeEditCompetition >= 0){
                            bootbox.confirm("Are you sure to delete competition '"+$("#editcompetitionvenue").val()+"' ?" , function(result){
                                if(result){
                                    socket.emit('deleteCompetition',{id: ALL_COMPETITION_RESULTS[activeEditCompetition]["id"]});  
                                }
                            }); 
                        }
                    }
                     
                 });         
                
                $("#editcompetitionresultlist").on("click", "button", function(event){
                    let netscore = "";
                    let handicap = "";
                    let newhandicap = "";
                     
                    $(this).parent().find('input').each(function(){
                        switch($(this).attr('id')){
                            case "editmembernetscorecompetitionresult": 
                                netscore = $(this).val();
                            break;
                            case "editmemberhandicapcompetitionresult":
                                handicap = $(this).val();
                            break;
                            case "editmembernewhandicapcompetitionresult":
                                newhandicap = $(this).val();
                            break;
                        }    
                    });
                     
                    let member = getMemberByName($(this).parent().data("member"));
                    
                    if(($(this).attr('id')) == "editmembercompetitionresult"){
                        if(checkEditSingleMemberCompetitionResultFormValidation($(this))){
                            socket.emit('editMemberCompetitionResult',{netscore: netscore, handicap: handicap, newhandicap: newhandicap, id: ALL_COMPETITION_RESULTS[activeEditCompetition].id, member: getMemberByName($(this).parent().data("member"))});
                        }
                    } else if($(this).attr('id') == "deletemembercompetitionresult"){
                        if(EDIT_COMPETITION_RESULT.length > 1){    
                            bootbox.confirm("Are you sure to delete "+$(this).parent().data("member")+" competition result?" , function(result){
                                if(result){
                                    console.log(member["name"]);
                                    socket.emit('deleteMemberCompetitionResult',{id: ALL_COMPETITION_RESULTS[activeEditCompetition].id, member: member});  
                                }
                            }); 
                        } else{
                            if(activeEditCompetition >= 0){
                            bootbox.confirm("At least one member result need to be recorded in competition. If you delete this member resulte whole competition will be deleted. Are you sure to delete competition '"+$("#editcompetitionvenue").val()+"' ?" , function(result){
                                if(result){
                                    socket.emit('deleteCompetition',{id: ALL_COMPETITION_RESULTS[activeEditCompetition]["id"]});  
                                }
                            }); 
                        }
                        }
                    } else{
                        socket.emit('forceWin',{netscore: netscore, handicap: handicap, newhandicap: newhandicap, id: ALL_COMPETITION_RESULTS[activeEditCompetition].id, member: getMemberByName($(this).parent().data("member"))});
                    }
                });
                
                $("#editmemberslist").on("click", "button", function(event){
                    let username = "";
                    let name = "";
                    let handicap = "";
                     
                    $(this).parent().find('input').each(function(){
                        switch($(this).attr('id')){
                            case "editmemberusername": 
                                username = $(this).val();
                            break;
                            case "editmembername": 
                                name = $(this).val();
                            break;
                            case "editmemberhandicap":
                                handicap = $(this).val();
                            break;
                        }    
                    });
                     
                    if(($(this).attr('id')) == "editmember"){
                        if(checkEditFormValidation($(this))){
                            let oldname = "";
                            
                            for(let i = 0, length = MEMBERS.length; i < length; i++){
                                if(MEMBERS[i]["username"] === username){
                                    oldname = MEMBERS[i]["name"];
                                    break;
                                }
                            }
                            
                            socket.emit('editMember',{username: username, name: name, oldname: oldname, member: getMemberByName(oldname), handicapExact: handicap});
                        }
                    } else{
                        bootbox.confirm("Are you sure to delete "+username+" ?" , function(result){
                            if(result){
                                socket.emit('deleteMember',{username: username, name: name, handicapExact: handicap});  
                            }
                        }); 
                    }
                });
                
                $("#editcommitteelist").on("click", "button", function(event){
                    let position = "";
                     
                    $(this).parent().find('input').each(function(){
                        switch($(this).attr('id')){
                            case "editcommitteememberposition": 
                                position = $(this).val();
                            break;
                        }    
                    });
                     
                    let member = getMemberByName($(this).parent().data("member"));
                    
                    if(($(this).attr('id')) == "editcommitteemember"){
                        if(checkCommitteeEditFormValidation($(this))){

                            socket.emit('editCommitteeMember',{username: member.username, position: position});
                        }
                    } else{
                        bootbox.confirm("Are you sure to delete "+member.name+" from committee?" , function(result){
                            if(result){
                                socket.emit('deleteCommitteeMember',{username: member.username});  
                            }
                        }); 
                    }
                });                
            
                $("#logoutLink").on("click" , function(event){
                    user.loggedin = false;
                    
                    $("#login-menu").show();
                    $("#loggedin").hide();
                    $("#adminpanel").hide();
                    $("#adminpanel-sm").hide();
                    $("#accountsettings").hide();
                    $("#userstats").hide();
                    $("#addmember").hide();
                    $("#editmembers").hide();
                    $("#createsocietyevent").hide();
                    $("#addcompetition").hide();
                    $("#editcompetition").hide();
                    $("#editcommittee").hide();
                });
            });
            
            function showUserTab(){
                $("#login-menu").hide();
                $("#loggedin").show();
                $("#userMenuTitle").text(user["data"].username);
            }
            
            function updateavent(event){   
                for(let i = 0, length = SOCIETY_EVENTS.length; i < length; i++){
                    if(SOCIETY_EVENTS[i]["id"] === event["id"]){
                        SOCIETY_EVENTS[i]["name"] = event.name;
                        SOCIETY_EVENTS[i]["course"] = event.course;
                        SOCIETY_EVENTS[i]["postcode"] = event.postcode;
                        SOCIETY_EVENTS[i]["website"] = event.website;
                        SOCIETY_EVENTS[i]["maxplayers"] = event.maxplayers;
                        SOCIETY_EVENTS[i]["included"] = event.included;
                        SOCIETY_EVENTS[i]["price"] = event.price;
                        SOCIETY_EVENTS[i]["year"] = event.year;
                        SOCIETY_EVENTS[i]["month"] = event.month;
                        SOCIETY_EVENTS[i]["day"] = event.day;
                        SOCIETY_EVENTS[i]["firstteatime"] = event.firstteatime;
                        SOCIETY_EVENTS[i]["organiser"] = event.organiser;
                        SOCIETY_EVENTS[i]["notes"] = event.notes;
                        break;
                    }
                }
            }        

            function deleteavent(event){    
                for(let i = 0, length = SOCIETY_EVENTS.length; i < length; i++){
                    if(SOCIETY_EVENTS[i]["id"] === event.id){    
                        SOCIETY_EVENTS.splice(i, 1);
                        break;
                    }
                }  
            }      


            function updateContestGrid(id){
                    $("#championcupgrid").empty();
                    
                    for(let i = 0, length = ALL_CONTEST_RESULTS.length; i < length; i++){
                        if(ALL_CONTEST_RESULTS[i].id == id){
                            let counter = ALL_CONTEST_RESULTS[i].gridInfo.counter;
                            activeContestIndex = i;
                            $('#championcupcontent').css('min-height',(12*counter+10)*30+'px');    
                            $('#championcupgrid').css('min-height',(9*counter+15)*30+'px'); 
                            contestThirdPlace.length = 0; 
                            
                            let width = 120;
                            let height = 30;
                            
                            let offset = 120;
                            
                             $("#championcupgrid").append('<button id="cont1" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+offset+'px; left: '+(4*145)+'px; z-index: 1; font-size:'+15+'px;display:none" class="btn btn-success">'+'Final'+'</button>');
                            
                            $("#championcupgrid").append('<button id="cont2" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+offset+'px; left: '+(3*145)+'px; z-index: 1; font-size:'+15+'px;display:none" class="btn btn-success">'+'Semifinals'+'</button>');
                            
                            $("#championcupgrid").append('<button id="cont3" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+offset+'px; left: '+(2*145)+'px; z-index: 1; font-size:'+15+'px;display:none" class="btn btn-success">'+'Quarterfinals'+'</button>');
                            
                            $("#championcupgrid").append('<button id="cont4" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+offset+'px; left: '+(1*145)+'px; z-index: 1; font-size:'+15+'px;display:none" class="btn btn-success">'+'Round 2'+'</button>');
                            
                            $("#championcupgrid").append('<button id="cont5" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+offset+'px; left: '+(0*145)+'px; z-index: 1; font-size:'+15+'px;display:none" class="btn btn-success">'+'Round 1'+'</button>');
                            
                            let depth = showContest(ALL_CONTEST_RESULTS[i].gridInfo.membersnumber,5,8*counter+10,1,8*counter+10, ALL_CONTEST_RESULTS[i].gridInfo.idStart, ALL_CONTEST_RESULTS[i].gridInfo.idParent,i, 0);
                            
                            for(let i =1; i < depth+1; i++){
                                $("#championcupgrid").find("#cont"+i).show();
                            }
                            
                            if(depth == 4){
                                $("#championcupgrid").find("#cont4").text("Round 1");
                            }
                            
                            showThirdPlace();
                            
                            break;
                        }
                    }
            }      
            
            function updateEditContestGrid(id){
                    $("#editcontestcontent").empty();
                    
                    for(let i = 0, length = ALL_CONTEST_RESULTS.length; i < length; i++){
                        if(ALL_CONTEST_RESULTS[i].id == id){
                            editContestIndex = i;
                            let counter = ALL_CONTEST_RESULTS[i].gridInfo.counter;
                        
                           // $('#championcupcontent').css('min-height',(12*counter+10)*30+'px');    
                            $('#editcontestcontent').css('min-height',(9*counter+15)*30+'px'); 
                            contestEditThirdPlace.length = 0;
                            showEditContest(ALL_CONTEST_RESULTS[i].gridInfo.membersnumber,5,8*counter+10,1,8*counter+10, ALL_CONTEST_RESULTS[i].gridInfo.idStart, ALL_CONTEST_RESULTS[i].gridInfo.idParent,i, 0);
                            showEditThirdPlace();
                            break;
                        }
                    }
            }     
                    
            function updateEditContestTables(i){
                    $('#editcontestcontent').empty();
                
                    if(ALL_CONTEST_RESULTS[i]){
                        editContestIndex = i;
                       let counter = ALL_CONTEST_RESULTS[i].gridInfo.counter;
                        
                       $('#editcontestcontent').css('min-height',(9*counter+15)*30+'px');
                        contestEditThirdPlace.length = 0;
                       showEditContest(ALL_CONTEST_RESULTS[i].gridInfo.membersnumber,5,8*counter+10,1,8*counter+10, ALL_CONTEST_RESULTS[i].gridInfo.idStart, ALL_CONTEST_RESULTS[i].gridInfo.idParent,0,0);
                       showEditThirdPlace();
                    }
            }
            
            function updateCompetition(competition){   
                for(let i = 0, length = ALL_COMPETITION_RESULTS.length; i < length; i++){
                    if(ALL_COMPETITION_RESULTS[i]["id"] === competition["id"]){
                        ALL_COMPETITION_RESULTS[i]["eventname"] = competition.eventname;
                        ALL_COMPETITION_RESULTS[i]["competitionname"] = competition.competitionname;
                        ALL_COMPETITION_RESULTS[i]["venue"] = competition.venue;
                        ALL_COMPETITION_RESULTS[i]["year"] = competition.year;
                        ALL_COMPETITION_RESULTS[i]["month"] = competition.month;
                        ALL_COMPETITION_RESULTS[i]["day"] = competition.day;
                        ALL_COMPETITION_RESULTS[i]["notes"] = competition.notes;
                        ALL_COMPETITION_RESULTS[i]["firsthole"] = competition.firsthole;
                        ALL_COMPETITION_RESULTS[i]["firstwinner"] = competition.firstwinner;
                        ALL_COMPETITION_RESULTS[i]["secondhole"] = competition.secondhole;
                        ALL_COMPETITION_RESULTS[i]["secondwinner"] = competition.secondwinner;
                    }
                }
            }              
            
            function deleteCompetition(competition){    
                
                let start = -1;
                let howMany = 0;
                
                for(let i = 0, length = ALL_COMPETITION_RESULTS.length; i < length; i++){
                    if(ALL_COMPETITION_RESULTS[i]["id"] === competition.id){ 
                        if(start == -1)
                            start = i;

                        howMany++;
                    }
                }
                
                ALL_COMPETITION_RESULTS.splice(start, howMany);
            }
            
            
            function updateMember(member){   
                for(let i = 0, length = MEMBERS.length; i < length; i++){
                    if(MEMBERS[i]["username"] === member.username){
                        MEMBERS[i]["name"] = member.name;
                        MEMBERS[i]["handicapExact"] = member.handicapExact;
                        break;
                    }
                }
            }
            
            function updateMemberHandicap(membername, handicap){   
                for(let i = 0, length = MEMBERS.length; i < length; i++){
                    if(MEMBERS[i]["name"] === membername){
                        //MEMBERS[i]["name"] = member.name;
                        MEMBERS[i]["handicapExact"] = handicap;
                        break;
                    }
                }
            }
            
            function updateMemberCompetitionResult(data){
                console.log(data["member"]["name"]);
                for(let i = 0, length = ALL_COMPETITION_RESULTS.length; i < length; i++){
                    if(ALL_COMPETITION_RESULTS[i].id === data.id && ALL_COMPETITION_RESULTS[i]["member"]["name"] === data["member"]["name"]){
                        ALL_COMPETITION_RESULTS[i]["handicap"] = data.handicap;
                        ALL_COMPETITION_RESULTS[i]["netscore"] = data.netscore;
                        break;
                    }
                }
            }
    
            function deleteMemberCompetitionResult(data){    
                console.log(data["member"]["name"]);
                for(let i = 0, length = ALL_COMPETITION_RESULTS.length; i < length; i++){
                    if(ALL_COMPETITION_RESULTS[i].id === data.id && ALL_COMPETITION_RESULTS[i]["member"]["name"] === data["member"]["name"]){    
                        
                        let id = ALL_COMPETITION_RESULTS[i].id;
                        ALL_COMPETITION_RESULTS.splice(i, 1);
                        
                        if(i == activeEditCompetition){

                             for(let j = 0, length = ALL_COMPETITION_RESULTS.length; j < length; j++){
                                 if(id ==  ALL_COMPETITION_RESULTS[j].id){
                                     activeEditCompetition = j;
                                     break;
                                 } 
                             }
                        } 
                        
                        if(i == activeCompetition){
                            activeCompetition = -1;
                            updateCompetitionTables(activeCompetition);
                        }
                        
                        
                        break;
                    }
                }  
            }  
            
            function getMember(username){
                for(let i = 0, length = MEMBERS.length; i < length; i++){
                    if(MEMBERS[i]["username"] === username){
                        return MEMBERS[i];
                        break;
                    }
                }
            }
            
            function getMemberByName(name){
                for(let i = 0, length = MEMBERS.length; i < length; i++){
                    if(MEMBERS[i]["name"] === name){
                        return MEMBERS[i];
                        break;
                    }
                }
            }            
            
            function deleteMember(member){    
                for(let i = 0, length = MEMBERS.length; i < length; i++){
                    if(MEMBERS[i]["username"] === member.username){    
                        MEMBERS.splice(i, 1);
                        break;
                    }
                }  
            }            
            
            function updateMemberList(){
                $('#memberstable').find('tbody').empty();
                $('#editmemberslist').empty(); 
                $('#addcompetitionmemberlist').empty();    
                
                sortMembersByName();
                
                for(let i =0, length = MEMBERS.length; i < length; i++){     
                    updateMemberPanels(i);
                }
            }
            
            // Function to check letters and numbers  
            function alphanumeric(inputtxt, plusSpace){  
                let letterNumber;
                    
                if(plusSpace === true){
                    letterNumber = /^[0-9a-zA-Z]+$/;
                    letterNumber = /^[\w\-\s]+$/;
                } else{
                    letterNumber = /^[\w\-\s]+$/;
                    letterNumber = /^[0-9a-zA-Z]+$/;
                }
                
                if(inputtxt.match(letterNumber)){  
                    return true;  
                } else {    
                    return false;   
                }  
            }
            
            function validateamail(email) {
                let re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                return re.test(email);
            }

            function checkCommitteeEditFormValidation(btn){
                let position = "";
                
                btn.parent().find('input').each(function(){
                    switch($(this).attr('id')){
                        case "editcommitteememberposition": 
                            position = $(this).val();
                            break;
                        }        
                }); 
                
                if(alphanumeric(position, true) && position.length > 0){
                        return true;
                } else{
                    bootbox.alert({message:"Position data incorrect. Only letters, numbers and space allowed.", backdrop: true});
                    return false;
                }
            }            
            
            function checkEditFormValidation(btn){
                let name = "";
                let handicap = "";    
                
                btn.parent().find('input').each(function(){
                    switch($(this).attr('id')){
                        case "editmembername": 
                            name = $(this).val();
                            break;
                        case "editmemberhandicap" :
                            handicap = $(this).val();
                            break;
                        }        
                }); 
                
                if(alphanumeric(name, true) && name.length > 0){
                    if($.isNumeric(handicap)){
                        return true;
                    } else{
                        bootbox.alert({message: "Handicap data incorrect. Only numbers allowed.", backdrop: true});
                        return false;
                    }
                } else{
                    bootbox.alert({message:"Name data incorrect. Only letters, numbers and space allowed.", backdrop: true});
                    return false;
                }
            }
            
            function checkUserDetailsFormValidation(){
                if(alphanumeric($("#accountusername").val(), false) && $("#accountusername").val().length > 0 ){
                    if(alphanumeric($("#accountname").val(), true) && $("#accountname").val().length > 0 ){
                        if($.isNumeric($("#accountphone").val()) || $("#accountphone").val() == ""){
                            if(validateamail(($("#accountemail").val())) || $("#accountemail").val() == ""){
                                return true;
                            } else{
                                bootbox.alert({message: "Email data incorrect. Only email format allowed or leave it blank.", backdrop: true});
                                return false;
                            }
                        } else{
                            bootbox.alert({message: "Phone data incorrect. Only numbers allowed or leave it blank.", backdrop: true});
                            return false;
                        }
                     } else{
                        bootbox.alert({message:"Name data incorrect. Only letters, numbers and space allowed.", backdrop: true});
                        return false;
                     }
                } else{
                    bootbox.alert({message: "Username data incorrect. Only letters and numbers allowed.", backdrop: true});
                    return false;   
                }
            }
            
            function checkMemberFormValidation(){
                if(alphanumeric($("#addmemberusername").val(), false) && $("#addmemberusername").val().length > 0 ){
                    if(alphanumeric($("#addmembername").val(), true) && $("#addmembername").val().length > 0 ){
                        if($.isNumeric($("#addmemberhandicap").val())){
                            return true;
                        } else{
                            bootbox.alert({message: "Handicap data incorrect. Only numbers allowed.", backdrop: true});
                            return false;
                        }
                    } else{
                        bootbox.alert({message:"Name data incorrect. Only letters, numbers and space allowed.", backdrop: true});
                        return false;
                        }
                } else {
                    bootbox.alert({message: "Username data incorrect. Only letters and numbers allowed.", backdrop: true});
                    return false;
                }
            }

            function checkEditSingleMemberCompetitionResultFormValidation(btn){
                let netscore = "";
                let handicap = "";    
                
                btn.parent().find('input').each(function(){
                    switch($(this).attr('id')){
                        case "editmembernetscorecompetitionresult": 
                            netscore = $(this).val();
                            break;
                        case "editmemberhandicapcompetitionresult" :
                            handicap = $(this).val();
                            break;
                        }        
                }); 
                
                if($.isNumeric(netscore)){
                    if($.isNumeric(handicap)){
                        return true;
                    } else{
                        bootbox.alert({message: "Handicap data incorrect. Only numbers allowed.", backdrop: true});
                        return false;
                    }
                } else{
                    bootbox.alert({message:"Net score data incorrect. Only numbers allowed.", backdrop: true});
                    return false;
                }
            }           
            
            function checkCompetitionFormValidation(){
                if(alphanumeric($("#addcompetitioneventname").val(), true) && $("#addcompetitioneventname").val().length > 0 ){
                    if(alphanumeric($("#addcompetitionname").val(), true) && $("#addcompetitionname").val().length > 0 ){
                        if(alphanumeric($("#addcompetitionvenue").val(), true) && $("#addcompetitionvenue").val().length > 0 ){
                            if($("#newcompetitiondate").val().length > 0){
                                return true;
                            } else{
                                bootbox.alert({message:"You need to choose competition date.", backdrop: true});
                                return false;
                            }
                        } else{
                            bootbox.alert({message: "Competition venue data incorrect. Only letters, numbers and space allowed.", backdrop: true});
                            return false;
                        }
                    } else{
                        bootbox.alert({message:"Competition name data incorrect. Only letters, numbers and space allowed.", backdrop: true});
                        return false;
                        }
                } else {
                    bootbox.alert({message: "Event name data incorrect. Only letters, numbers and space allowed.", backdrop: true});
                    return false;
                }
            }
            
            function checkEditCompetitionFormValidation(){
                if(alphanumeric($("#editcompetitioneventname").val(), true) && $("#editcompetitioneventname").val().length > 0 ){
                    if(alphanumeric($("#editcompetitionname").val(), true) && $("#editcompetitionname").val().length > 0 ){
                        if(alphanumeric($("#editcompetitionvenue").val(), true) && $("#editcompetitionvenue").val().length > 0 ){
                            if($("#editnewcompetitiondate").val().length > 0){
                                if($("#editcompetitionhole1").text() !== $("#editcompetitionhole2").text()){
                                    return true;
                                } else{
                                    bootbox.alert({message:"First hole and second hole cannot be the same number.", backdrop: true});
                                return false;
                                }
                            } else{
                                bootbox.alert({message:"You need to choose competition date.", backdrop: true});
                                return false;
                            }
                        } else{
                            bootbox.alert({message: "Competition venue data incorrect. Only letters, numbers and space allowed.", backdrop: true});
                            return false;
                        }
                    } else{
                        bootbox.alert({message:"Competition name data incorrect. Only letters, numbers and space allowed.", backdrop: true});
                        return false;
                        }
                } else {
                    bootbox.alert({message: "Event name data incorrect. Only letters, numbers and space allowed.", backdrop: true});
                    return false;
                }
            }
            
            function checkMemberCompetitionResultFormValidation(){
                if(competitionMemberSelected){
                    if($.isNumeric($("#addcompetitionmemberhandicap").val())){
                        if($.isNumeric($("#addcompetitionmembernetscore").val())){
                            return true;
                        } else{
                            bootbox.alert({message: "Net score data incorrect. Only numbers allowed.", backdrop: true});
                            return false;
                        }
                    } else{
                        bootbox.alert({message:"Handicap data incorrect. Only numbers allowed.", backdrop: true});
                        return false;
                        }
                } else {
                    bootbox.alert({message: "Member name data incorrect. Choose member from the list.", backdrop: true});
                    return false;
                }
            }
            
            function checkMemberCommitteeResultFormValidation(){
                if(committeeMemberSelected){
                    if(alphanumeric($("#editcommitteeaddmemberposition").val(), true) && $("#editcommitteeaddmemberposition").val().length > 0 ){
                        return true;
                    } else{
                        bootbox.alert({message:"Position data incorrect. Only letters, numbers and space allowed.", backdrop: true});
                        return false; 
                    }
                } else {
                    bootbox.alert({message: "Member name data incorrect. Choose member from the list.", backdrop: true});
                    return false;
                }
            }            
            
            function checkEditMemberCompetitionResultFormValidation(){
                if(competitionEditMemberSelected){
                    if($.isNumeric($("#editcompetitionmemberhandicap").val())){
                        if($.isNumeric($("#editcompetitionmembernetscore").val())){
                            return true;
                        } else{
                            bootbox.alert({message: "Net score data incorrect. Only numbers allowed.", backdrop: true});
                            return false;
                        }
                    } else{
                        bootbox.alert({message:"Handicap data incorrect. Only numbers allowed.", backdrop: true});
                        return false;
                        }
                } else {
                    bootbox.alert({message: "Member name data incorrect. Choose member from the list.", backdrop: true});
                    return false;
                }
            }
            
            function checkAddSocietyEventFormValidation(){
                if(alphanumeric($("#addeventname").val(), true) && $("#addeventname").val().length > 0 ){
                    if(alphanumeric($("#addeventcourse").val(), true) && $("#addeventcourse").val().length > 0 ){
                        if(alphanumeric($("#addeventpostcode").val(), true) || $("#addeventpostcode").val().length == 0 ){
                            if($.isNumeric($("#addeventprice").val().replace("£", ""))){
                                if(alphanumeric($("#addeventwhatincluded").val(), true) || $("#addeventwhatincluded").val().length == 0 ){
                                    if($.isNumeric($("#addeventmaxparticipants").val()) || $("#addeventmaxparticipants").val().length == 0){
                                        if(alphanumeric($("#addevenorganiser").val(), true) && $("#addevenorganiser").val().length > 0 ){
                                            if($("#neweventteatime").val().length > 0){
                                                if($("#neweventdate").val().length > 0){
                                                    return true;
                                                }
                                                else {
                                                    bootbox.alert({message:"You need to choose event date.", backdrop: true});
                                                    return false; 
                                                }
                                            } else{
                                                bootbox.alert({message:"You need to choose first tee time.", backdrop: true});
                                                return false; 
                                            }
                                            return true;
                                        } else{
                                            bootbox.alert({message:"Event organiser data incorrect. Only letters, numbers and space allowed.", backdrop: true});
                                            return false; 
                                        }
                                    } else{
                                        bootbox.alert({message: "Max participants data incorrect. Only numbers allowed.", backdrop: true});
                                        return false;
                                    }
                                } else{
                                    bootbox.alert({message:"'What's included' data incorrect. Only letters and numbers allowed.", backdrop: true});
                                    return false;    
                                }
                            } else{
                                bootbox.alert({message: "Price data incorrect. Only numbers and £ symbol allowed.", backdrop: true});
                                return false;
                            }
                            
                        } else{
                            bootbox.alert({message:"Post code data incorrect. Only letters, numbers and space allowed.", backdrop: true});
                            return false;    
                        }
            
                    } else{
                        bootbox.alert({message:"Course data incorrect. Only letters, numbers and space allowed.", backdrop: true});
                        return false;
                        }
                } else {
                    bootbox.alert({message: "Event name data incorrect. Only letters, numbers and space allowed.", backdrop: true});
                    return false;
                }
            }
            
            function checkEditSocietyEventFormValidation(){
                if(alphanumeric($("#editeventname").val(), true) && $("#editeventname").val().length > 0 ){
                    if(alphanumeric($("#editeventcourse").val(), true) && $("#editeventcourse").val().length > 0 ){
                        if(alphanumeric($("#editeventpostcode").val(), true) || $("#editeventpostcode").val().length == 0 ){
                            if($.isNumeric($("#editeventprice").val().replace("£", ""))){
                                if(alphanumeric($("#editeventwhatincluded").val(), true) || $("#editeventwhatincluded").val().length == 0 ){
                                    if($.isNumeric($("#editeventmaxparticipants").val()) || $("#editeventmaxparticipants").val().length == 0){
                                        if(alphanumeric($("#editevenorganiser").val(), true) && $("#editevenorganiser").val().length > 0 ){
                                            if($("#editneweventteatime").val().length > 0){
                                                if($("#editneweventdate").val().length > 0){
                                                    return true;
                                                }
                                                else {
                                                    bootbox.alert({message:"You need to choose event date.", backdrop: true});
                                                    return false; 
                                                }
                                            } else{
                                                bootbox.alert({message:"You need to choose first tee time.", backdrop: true});
                                                return false; 
                                            }
                                            return true;
                                        } else{
                                            bootbox.alert({message:"Event organiser data incorrect. Only letters, numbers and space allowed.", backdrop: true});
                                            return false; 
                                        }
                                    } else{
                                        bootbox.alert({message: "Max participants data incorrect. Only numbers allowed.", backdrop: true});
                                        return false;
                                    }
                                } else{
                                    bootbox.alert({message:"'What's included' data incorrect. Only letters and numbers allowed.", backdrop: true});
                                    return false;    
                                }
                            } else{
                                bootbox.alert({message: "Price data incorrect. Only numbers and £ symbol allowed.", backdrop: true});
                                return false;
                            }
                            
                        } else{
                            bootbox.alert({message:"Post code data incorrect. Only letters, numbers and space allowed.", backdrop: true});
                            return false;    
                        }
            
                    } else{
                        bootbox.alert({message:"Course data incorrect. Only letters, numbers and space allowed.", backdrop: true});
                        return false;
                        }
                } else {
                    bootbox.alert({message: "Event name data incorrect. Only letters, numbers and space allowed.", backdrop: true});
                    return false;
                }
            }
            
            function getcommittee(){
                let arr =[];
                
                for(let i = 0, length = MEMBERS.length; i < length; i++){
                    if(MEMBERS[i]["committee"] == "true"){
                        arr.push(MEMBERS[i]);
                    }
                }
                return arr;
            }
            
            function updateCompetitionMemberList(){
                $('#addcompetitionmemberlist').empty();    
                
                arr =[];
                
                for(let i = 0, length = COMPETITION_RESULT.length; i < length; i++){
                    arr.push(COMPETITION_RESULT[i].member);
                }
                
                for(let i =0, length = MEMBERS.length; i < length; i++){
                    if(($.inArray(MEMBERS[i], arr)) == -1){
                       $('#addcompetitionmemberlist').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="'+i+'" >'+MEMBERS[i]["name"]+'</a>');
                    }
                }
            }
            
            
            function updateaditCompetitionMemberList(){
                $('#editaddcompetitionmemberlist').empty();    
                $('#editcompetitionwinner1list').empty();
                $('#editcompetitionwinner2list').empty();
                
                $('#editcompetitionhole1list').empty();
                $('#editcompetitionhole2list').empty();
                
                for(let i = 1; i < 19; i++){
                     $('#editcompetitionhole1list').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="'+i+'" >'+i+'</a>');   
                     $('#editcompetitionhole2list').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="'+i+'" >'+i+'</a>');   
                }
                
                $('#editcompetitionhole1list').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="none" >none</a>');   
                     $('#editcompetitionhole2list').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="none" >none</a>');  
                
                arr =[];
                
                for(let i = 0, length = EDIT_COMPETITION_RESULT.length; i < length; i++){
                    arr.push(EDIT_COMPETITION_RESULT[i].member["name"]);
                }
                
                for(let i =0, length = MEMBERS.length; i < length; i++){
                    if(($.inArray(MEMBERS[i]["name"], arr)) == -1){
                       $('#editaddcompetitionmemberlist').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="'+i+'" >'+MEMBERS[i]["name"]+'</a>');  
                    } else{
                        $('#editcompetitionwinner1list').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="'+i+'" >'+MEMBERS[i]["name"]+'</a>');   
                        
                       $('#editcompetitionwinner2list').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="'+i+'" >'+MEMBERS[i]["name"]+'</a>');   
                    }
                }
                
                $('#editcompetitionwinner1list').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="none" >none</a>');   
                        
                $('#editcompetitionwinner2list').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="none" >none</a>');   
            }
            
            function updateMemberPanels(i){
                
                $('#memberstable').find('tbody').append('<tr><td>'+MEMBERS[i]["name"]+'</td><td>'+MEMBERS[i]["handicapExact"]+'</td><td>'+Math.round(Number(MEMBERS[i]["handicapExact"]))+'</td><td>'+MEMBERS[i]["email"]+'</td><td>'+MEMBERS[i]["phone"]+'</td></tr>');
                        
                $('#editmemberslist').append('<a href="javascript:void(0)" class="list-group-item notop list-group-item-info" id="'+i+'">'+MEMBERS[i]["name"]+'</a><ul class="list-group well" style="display:none" id="member'+i+'"></ul><br>');
                
                $('#contestmemberslist').append('<a href="javascript:void(0)" class="list-group-item notop list-group-item-info" id="'+i+'">'+MEMBERS[i]["name"]+'</a><br>');
                        
                //edit panel - adding members information
                        
                $("#member"+i).append('<button id="deletemember" type="button" style="margin-top:20px" class="btn btn-danger btn-block">Delete Member</button>');                        
                        
                $("#member"+i).append('<label for="editmemberusername" style="margin-top:20px">Username:</label><input type="text" class="form-control list-group-item" id="editmemberusername" placeholder="'+MEMBERS[i]["username"]+'" value="'+MEMBERS[i]["username"]+'" readonly>');
                        
                $("#member"+i).append('<label for="editmembername" style="margin-top:20px">Member name:</label><input type="text" class="form-control list-group-item" id="editmembername" placeholder="'+MEMBERS[i]["name"]+'" value="'+MEMBERS[i]["name"]+'">');
                        
                $("#member"+i).append('<label for="editmemberhandicap" style="margin-top:20px">Handicap:</label><input type="text" class="form-control list-group-item" id="editmemberhandicap" placeholder="'+MEMBERS[i]["handicapExact"]+'"  value="'+MEMBERS[i]["handicapExact"]+'">');
                        
                $("#member"+i).append('<button id="editmember" type="button" style="margin-top:20px" class="btn btn-primary btn-block">Apply changes</button>');
                
                //add competition result panel
                
                $('#addcompetitionmemberlist').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="'+i+'" >'+MEMBERS[i]["name"]+'</a>');
            }
           
            
            function updateCompetitionTables(idx){
                $('#competitionresultsinfotable').find('tbody').empty();
                $('#competitionresultsscoretable').find('tbody').empty();
                $('#competitionnearestthepintable').find('tbody').empty();
                
                if(idx > -1){
                    let month = Number(ALL_COMPETITION_RESULTS[idx]["month"]);
                    let day = Number(ALL_COMPETITION_RESULTS[idx]["day"]);
                    
                    if(!ALL_COMPETITION_RESULTS[idx]["notes"]){
                        ALL_COMPETITION_RESULTS[idx]["notes"] = "";
                    }
                    
                    $('#competitionresultsinfotable').find('tbody').append('<tr><td>Event:</td><td align="center">'+ALL_COMPETITION_RESULTS[idx]["eventname"]+'</td></tr>'+'<tr><td>Competition:</td><td align="center">'+ALL_COMPETITION_RESULTS[idx]["competitionname"]+'</td></tr>'+'<tr><td>Venue:</td><td align="center">'+ALL_COMPETITION_RESULTS[idx]["venue"]+'</td></tr>'+'<tr><td>Date of Competition:</td><td align="center">'+day+'/'+month+'/'+ALL_COMPETITION_RESULTS[idx]["year"]+'</td></tr>'+'<tr><td>Notes:</td><td align="center">'+ALL_COMPETITION_RESULTS[idx]["notes"]+'</td></tr>');
                    
                    
                    
                    if(ALL_COMPETITION_RESULTS[idx]["firsthole"] && ALL_COMPETITION_RESULTS[idx]["firstwinner"]){
                        $('#competitionnearestthepintable').find('tbody').append('<tr><td align="center">'+ALL_COMPETITION_RESULTS[idx]["firsthole"]+'</td><td align="center">'+ALL_COMPETITION_RESULTS[idx]["firstwinner"]+'</td></tr>');
                    }
                    
                    if(ALL_COMPETITION_RESULTS[idx]["secondhole"] && ALL_COMPETITION_RESULTS[idx]["secondwinner"]){
                        $('#competitionnearestthepintable').find('tbody').append('<tr><td align="center">'+ALL_COMPETITION_RESULTS[idx]["secondhole"]+'</td><td align="center">'+ALL_COMPETITION_RESULTS[idx]["secondwinner"]+'</td></tr>');
                    }
                    
                    let competitionResults = [];
                    let index = 0;
                    
                    for(let i = 0, length = ALL_COMPETITION_RESULTS.length; i < length; i++){
                        if(ALL_COMPETITION_RESULTS[i]["id"] == ALL_COMPETITION_RESULTS[idx]["id"]){
                            competitionResults[index] = ALL_COMPETITION_RESULTS[i];
                            index++;
                        }
                    }
                    console.log(competitionResults[0]["netscore"]);
                    competitionResults.sort(compareCompetitionNetScore);
                    competitionResults = updateWinner(competitionResults);
                    console.log(competitionResults[0]["netscore"]);
                    for(let i = 0, length = competitionResults.length; i < length; i++){
                        $('#competitionresultsscoretable').find('tbody').append('<tr><td>'+competitionResults[i]["member"]["name"] +'</td><td>'+ competitionResults[i]["handicap"] +'</td><td>'+ competitionResults[i]["netscore"] + '</td></tr>');
                    }
                    
                } else{
                }
            }
            
            function updateRollOfHonour(year){
                
                $("#rollofhonourlistbtn").text(year);
                 $("#badgeyearname").text(year);
                
                let arr = getCompetitionIndexList();
                rollOfHonourCompetitions =[];
                let yearCompetitions = [];
                
                let resultArr = [];
                
                for(let i=0, length = arr.length; i < length; i++){
                    if(ALL_COMPETITION_RESULTS[arr[i]]['year'] == year){
                        yearCompetitions.push(ALL_COMPETITION_RESULTS[arr[i]]["venue"]);
                        
                        resultArr[ALL_COMPETITION_RESULTS[arr[i]]["venue"]] = [];
                    }
                }
                let competition =[];
                
                for(let i=0, length = yearCompetitions.length; i < (length); i++){
                    competition[yearCompetitions[i]] = [];
                }
                
                
                for(let i=0, length = ALL_COMPETITION_RESULTS.length; i < length; i++){
                    if($.inArray(ALL_COMPETITION_RESULTS[i]["venue"],yearCompetitions) > -1){
                        resultArr[ALL_COMPETITION_RESULTS[i]["venue"]][ALL_COMPETITION_RESULTS[i]["member"]["name"]] = ALL_COMPETITION_RESULTS[i]["netscore"];
                        
                        competition[ALL_COMPETITION_RESULTS[i]["venue"]].push({score : ALL_COMPETITION_RESULTS[i]["netscore"], win : ALL_COMPETITION_RESULTS[i]["win"], membername: ALL_COMPETITION_RESULTS[i]["member"]["name"], month: ALL_COMPETITION_RESULTS[i]["month"]});
                    }
                    
                }                
                                
                let badge = "";
                
                let months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
                
                let winners = [];
                
                 for(let i=1; i < 10; i++){
                     badge = "#badge"+i;
                     $(badge).hide();
                 }
                
                 
                for(let i=1, length = yearCompetitions.length; i < (length+1); i++){
                    if(i<10){
                        competition[yearCompetitions[i-1]].sort(compareTotalScore);
                        competition[yearCompetitions[i-1]] = updateWinner(competition[yearCompetitions[i-1]]);
                        badge = "#badge"+i;
                        $(badge).show();
                        
                        winners.push({membername: competition[yearCompetitions[i-1]][0].membername, venue: yearCompetitions[i-1], month: competition[yearCompetitions[i-1]][0].month});
                        /*
                        $("#badgename"+i).text(competition[yearCompetitions[i-1]][0].membername);
                        $("#badgevenue"+i).text(yearCompetitions[i-1]);
                        $("#badgemonth"+i).text(months[competition[yearCompetitions[i-1]][0].month-1]);*/
                    }
                }
                
                winners.sort(compareMonth);
                
                for(let i=1, length = winners.length; i < (length+1); i++){
                    
                    $("#badgename"+i).text(winners[i-1].membername);
                    $("#badgevenue"+i).text(winners[i-1].venue);
                    $("#badgemonth"+i).text(months[winners[i-1].month-1]);
                    
                    for(let j=0, length = arr.length; j < length; j++){
                         if(ALL_COMPETITION_RESULTS[arr[j]]['venue'] == (winners[i-1].venue)){
                             rollOfHonourCompetitions.push(arr[j]);
                             break;
                         }
                    }
                }
            }
            
            function updateHallOfFame(){
                
                let  start = ALL_COMPETITION_RESULTS[getOldestCompetitionIndex()]["year"];
                let  end = ALL_COMPETITION_RESULTS[getLastCompetitionIndex()]["year"];
                
                hallOfFame = [];
                
                for(let i = start; i <= end; i++ ){
                    updatePlayerOfTheYearTable(i);
                }
                
                $("#halloffamelist").find('tbody').empty();
                $("#halloffamelist").find('tbody').append()
                for(let i = 0; i < hallOfFame.length; i++){
                    $("#halloffamelist").find('tbody').append('<tr style="color:yellow;font-size:16"><td style="width: 50px">'+hallOfFame[i].year+'</td><td style="width: 150px">'+hallOfFame[i].name+'</td><td style="width: 100px">'+hallOfFame[i].score+" points</td></tr>");
                }
                
                updatePlayerOfTheYearTable(playerYear);
            }
            
            function updatePlayerOfTheYearTable(year){
                
                $('#playeroftheyearlistbtn').text(year);
                
                $('#playeroftheyeartable').find('tbody').empty();
                $('#playeroftheyeartable').find('thead').empty();
                
                
                
                let arr = getCompetitionIndexList();
                
                let yearCompetitions = [];
                let resultArr = [];
                
                for(let i=0, length = arr.length; i < length; i++){
                    if(ALL_COMPETITION_RESULTS[arr[i]]['year'] == year){
                        yearCompetitions.push(ALL_COMPETITION_RESULTS[arr[i]]["venue"]);
                        resultArr[ALL_COMPETITION_RESULTS[arr[i]]["venue"]] = [];
                    }
                }
                console.log("Competition results:");
                for(let i=0, length = ALL_COMPETITION_RESULTS.length; i < length; i++){
                    if($.inArray(ALL_COMPETITION_RESULTS[i]["venue"],yearCompetitions) > -1){
                        resultArr[ALL_COMPETITION_RESULTS[i]["venue"]][ALL_COMPETITION_RESULTS[i]["member"]["name"]] = ALL_COMPETITION_RESULTS[i]["netscore"];
                    }
                    
                    console.log("venue: "+ALL_COMPETITION_RESULTS[i]["venue"]+", name: "+ALL_COMPETITION_RESULTS[i]["member"]["name"]+ ", score: "+ALL_COMPETITION_RESULTS[i]["netscore"] );
                }
                
                $('#playeroftheyeartable').find('thead').append('<tr></tr>');
                $('#playeroftheyeartable').find('thead').find('tr').append('<th>Members Name</th>');
                
                for(let i=0, length = yearCompetitions.length; i < length; i++){
                    $('#playeroftheyeartable').find('thead').find('tr').append('<th>'+yearCompetitions[i]+'</th>');
                }
                
                
                
                $('#playeroftheyeartable').find('thead').find('tr').append('<th>Total (best 4)</th>');
                
                let totalResults = [];
                
                for(let i=0, length = MEMBERS.length; i < length; i++){
                    let score = [];
                    
                    for(let j=0, length = yearCompetitions.length; j < length; j++){
                        if(resultArr[yearCompetitions[j]][MEMBERS[i]["name"]]){
                            score.push(resultArr[yearCompetitions[j]][MEMBERS[i]["name"]]);
                        }
                    }
                    
                    totalResults.push({score : get4BestInOne(score), index: i});
                }
                
                totalResults.sort(compareTotalScore);
                /*
                if(totalResults.length>1){
                    if(totalResults[0].score == totalResults[1].score){
                        
                    }
                }*/
                    let res0 = [];
                    let res1 = [];
                
                    if(totalResults.length > 1){
                        if(totalResults[0].score == totalResults[1].score){
                            for(let j=0, length = yearCompetitions.length; j < length; j++){
                                
                                 if(resultArr[yearCompetitions[j]][MEMBERS[totalResults[0]["index"]]["name"]]){
                                     res0.push(resultArr[yearCompetitions[j]][MEMBERS[totalResults[0]["index"]]["name"]]);
                                 }
        
                                 if(resultArr[yearCompetitions[j]][MEMBERS[totalResults[1]["index"]]["name"]]){
                                     res1.push(resultArr[yearCompetitions[j]][MEMBERS[totalResults[1]["index"]]["name"]]);
                                 }
                            
                            }
                            
                            res0.sort(compareCompetitionScore);
                            res1.sort(compareCompetitionScore);
                            
                            if(res1.length>3){
                                if(res1[3] > res0[3]){
                                    let tmp = totalResults[1];
                                    totalResults[1] = totalResults[0];
                                    totalResults[0] = tmp;
                                }
                            }
                            
                        } 
                    }
                if(totalResults.length > 0){
                    hallOfFame.push({year: year, name: MEMBERS[totalResults[0]["index"]]["name"], score: totalResults[0].score});
                }
                
                
                for(let i=0, length = MEMBERS.length; i < length; i++){
                
                    $('#playeroftheyeartable').find('tbody').append('<tr></tr>');
                    $('#playeroftheyeartable > tbody > tr:last-child').append('<td>'+MEMBERS[totalResults[i]["index"]]["name"]+'</td>');
                    
                    for(let j=0, length = yearCompetitions.length; j < length; j++){
                        if(resultArr[yearCompetitions[j]][MEMBERS[totalResults[i]["index"]]["name"]]){
                            $('#playeroftheyeartable > tbody > tr:last-child').append('<td>'+resultArr[yearCompetitions[j]][MEMBERS[totalResults[i]["index"]]["name"]]+'</td>');
                        } else{
                            $('#playeroftheyeartable > tbody > tr:last-child').append('<td></td>');
                        }
                    }
                    
                    $('#playeroftheyeartable > tbody > tr:last-child').append('<td>'+totalResults[i]["score"]+'</td>');
                    //totalResults[i]["index"]    
                              
                }
                
            }
            function updateWinner(arr){
                let winIndex = 0;
                for(let i = 0; i < arr.length ; i++){
                    if(arr[i]["win"] == true){
                        winIndex = i;
                    }
                }
                
                let tmp = arr[0];
                arr[0] = arr[winIndex];
                arr[winIndex] = tmp;
                
                return arr;
            }
            function get4BestInOne(score){
                let sum = 0;
                let index = 0;
                let best = [];
                
                for(let i = 0; i < score.length; i++){
                    if(index < 4){
                        best[index] = score[i];
                        index++;
                    } else{
                        if(best[indexOfMin(best)] < score[i]){
                            best[indexOfMin(best)] = score[i];
                        }
                    }
                }
                
                for(let i = 0; i < best.length; i++){
                    sum += Number(best[i]); 
                }
                
                return sum;
            }
            
            function updateContestList(idx){
            $('#championcuplist').empty();
                
            if(idx > -1){
                for(let i = 0, length = ALL_CONTEST_RESULTS.length; i < length; i++){
                    
                    $('#championcuplist').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="'+ALL_CONTEST_RESULTS[i]["id"]+'" >'+ALL_CONTEST_RESULTS[i]["name"]+'</a>');
                    
                }
            }
                
            }
            
            function updateEditContestList(idx){
            $('#editcontestlist').empty();
                
            if(idx > -1){
                for(let i = 0, length = ALL_CONTEST_RESULTS.length; i < length; i++){
                    
                    $('#editcontestlist').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="'+ALL_CONTEST_RESULTS[i]["id"]+'" >'+ALL_CONTEST_RESULTS[i]["name"]+'</a>');
                    
                }
            }
                
            }
            
            
            function updateaditCompetitionTables(idx){
                //$('#editcompetitionresultsinfotable').find('tbody').empty();
                $('#editcompetitionresultlist').empty();
                $('#editcompetitionresultsscoretable').find('tbody').empty();
                
                if(idx > -1){
                    let month = Number(ALL_COMPETITION_RESULTS[idx]["month"]);
                    let day = Number(ALL_COMPETITION_RESULTS[idx]["day"]);
                    
                    $('#editcompetitioneventname').val(ALL_COMPETITION_RESULTS[idx]["eventname"]);
                    $('#editcompetitionname').val(ALL_COMPETITION_RESULTS[idx]["competitionname"]);
                    $('#editcompetitionvenue').val(ALL_COMPETITION_RESULTS[idx]["venue"]);
                    
                    $('#editcompetitiondate').datetimepicker("update", new Date(ALL_COMPETITION_RESULTS[idx]["year"], month-1, day,0,0,0,0));
                    
                    if(!ALL_COMPETITION_RESULTS[idx]["notes"]){
                        ALL_COMPETITION_RESULTS[idx]["notes"] = "";
                    }
                    
                    if(ALL_COMPETITION_RESULTS[idx]["firsthole"] && ALL_COMPETITION_RESULTS[idx]["firsthole"]!==""){
                        $("#editcompetitionhole1").text(ALL_COMPETITION_RESULTS[idx]["firsthole"]);
                        competitionFirstHoleSelected = true;
                    } else{
                        $("#editcompetitionhole1").text("Choose first Hole");
                        competitionFirstHoleSelected = false;
                    }

                    if(ALL_COMPETITION_RESULTS[idx]["secondhole"] && ALL_COMPETITION_RESULTS[idx]["secondhole"]!==""){
                        $("#editcompetitionhole2").text(ALL_COMPETITION_RESULTS[idx]["secondhole"]);
                        competitionSecondHoleSelected = true;
                    } else{
                        $("#editcompetitionhole2").text("Choose second Hole");
                        competitionSecondHoleSelected = false;
                    }  
                    
                    if(ALL_COMPETITION_RESULTS[idx]["secondwinner"] && ALL_COMPETITION_RESULTS[idx]["secondwinner"]!==""){
                        $("#editcompetitionwinner2").text(ALL_COMPETITION_RESULTS[idx]["secondwinner"]);
                        competitionSecondWinnerSelected = true;
                    } else{
                        $("#editcompetitionwinner2").text("Choose second Winner");
                        competitionSecondWinnerSelected = false;
                    }                    

                    if(ALL_COMPETITION_RESULTS[idx]["firstwinner"] && ALL_COMPETITION_RESULTS[idx]["firstwinner"]!==""){
                        $("#editcompetitionwinner1").text(ALL_COMPETITION_RESULTS[idx]["firstwinner"]);
                        competitionFirstWinnerSelected = true;
                    } else{
                        $("#editcompetitionwinner1").text("Choose first Winner");
                        competitionFirstWinnerSelected = false;
                    }                    
                    
                    
                    
                    $('#editcompetitionnotes').val(ALL_COMPETITION_RESULTS[idx]["notes"]);
                    
                   /* $('#editcompetitionresultsinfotable').find('tbody').append('<tr><td>Event:</td><td align="center">'+ALL_COMPETITION_RESULTS[idx]["eventname"]+'</td></tr>'+'<tr><td>Competition:</td><td align="center">'+ALL_COMPETITION_RESULTS[idx]["competitionname"]+'</td></tr>'+'<tr><td>Venue:</td><td align="center">'+ALL_COMPETITION_RESULTS[idx]["venue"]+'</td></tr>'+'<tr><td>Date of Competition:</td><td align="center">'+day+'/'+month+'/'+ALL_COMPETITION_RESULTS[idx]["year"]+'</td></tr>');*/
                    
                    let competitionResults = [];
                    let index = 0;
                    
                    for(let i = 0, length = ALL_COMPETITION_RESULTS.length; i < length; i++){
                        if(ALL_COMPETITION_RESULTS[i]["id"] == ALL_COMPETITION_RESULTS[idx]["id"]){
                            competitionResults[index] = ALL_COMPETITION_RESULTS[i];
                            index++;
                        }
                    }
                    
                    EDIT_COMPETITION_RESULT = competitionResults;
                    
                    updateaditCompetitionMemberList();
                    
                    
                    console.log('Result '+EDIT_COMPETITION_RESULT[0]["member"]["name"]);
                    
                  //  updateaditCompetitionMemberList();
                    
                    console.log(competitionResults[0]["netscore"]);
                    competitionResults.sort(compareCompetitionNetScore);
                    
                    competitionResults = updateWinner(competitionResults);
                    console.log(competitionResults[0]["netscore"]);
                    
                    
                    let bestresult = 0;
                    
                    for(let i = 0, length = competitionResults.length; i < length; i++){
                        

                        
                        $('#editcompetitionresultsscoretable').find('tbody').append('<tr><td>'+competitionResults[i]["member"]["name"] +'</td><td>'+ competitionResults[i]["handicap"] +'</td><td>'+ competitionResults[i]["netscore"] + '</td></tr>');
                        
                        if(competitionResults[i]["netscore"] == competitionResults[0]["netscore"]){
                            
                            $('#editcompetitionresultlist').append('<a href="javascript:void(0)" class="list-group-item notop list-group-item-success" id="'+i+'">'+competitionResults[i]["member"]["name"]+'</a><ul class="list-group well" style="display:none" id="competitionresult'+i+'" data-member="'+competitionResults[i]["member"]["name"]+'"></ul><br>');
                            
                             $("#competitionresult"+i).append('<button id="forcewinmembercompetitionresult" type="button" style="margin-top:20px" class="btn btn-warning btn-block">Make Member a Winner</button>');                      
                            
                            bestresult++;
                        } else{
                            $('#editcompetitionresultlist').append('<a href="javascript:void(0)" class="list-group-item notop list-group-item-info" id="'+i+'">'+competitionResults[i]["member"]["name"]+'</a><ul class="list-group well" style="display:none" id="competitionresult'+i+'" data-member="'+competitionResults[i]["member"]["name"]+'"></ul><br>');
                        }
                        

                        
                        //edit panel - adding members information
                        
                        $("#competitionresult"+i).append('<button id="deletemembercompetitionresult" type="button" style="margin-top:20px" class="btn btn-danger btn-block">Delete Member</button>');                        

                        $("#competitionresult"+i).append('<label for="editmembernetscorecompetitionresult" style="margin-top:20px">Member net score:</label><input type="text" class="form-control list-group-item" id="editmembernetscorecompetitionresult" placeholder="'+competitionResults[i]["netscore"]+'" value="'+competitionResults[i]["netscore"]+'">');

                        $("#competitionresult"+i).append('<label for="editmemberhandicapcompetitionresult" style="margin-top:20px">Member handicap:</label><input type="text" class="form-control list-group-item" id="editmemberhandicapcompetitionresult" placeholder="'+competitionResults[i]["handicap"].toString()+'"  value="'+competitionResults[i]["handicap"].toString()+'">');
                        
                        $("#competitionresult"+i).append('<label for="editmembernewhandicapcompetitionresult" style="margin-top:20px">Member new handicap:</label><input type="text" class="form-control list-group-item" id="editmembernewhandicapcompetitionresult" placeholder="'+getMemberHandicap(competitionResults[i]["member"]["name"], true)+'"  value="'+getMemberHandicap(competitionResults[i]["member"]["name"], true)+'">');

                        $("#competitionresult"+i).append('<button id="editmembercompetitionresult" type="button" style="margin-top:20px" class="btn btn-primary btn-block">Apply changes</button>');
                    }
                    
                    if(bestresult>1){
                      //  alert("UWAGA " +bestresult);
                    }
                    
                } else{
                    $('#editcompetitioneventname').val("");
                    $('#editcompetitionname').val("");
                    $('#editcompetitionvenue').val("");
                    $('#editnewcompetitiondate').val("");
                }
            }    
            
            function updateSocietyEventTable(idx){
                
                $('#societyeventstable').find('tbody').empty();
                
                if(idx > -1){
                    let month = Number(SOCIETY_EVENTS[idx]["month"]);
                    let day = Number(SOCIETY_EVENTS[idx]["day"]);
                    $('#societyeventstable').find('tbody').append('<tr><td>Event Name:</td><td align="center">'+SOCIETY_EVENTS[idx]["name"]+'</td></tr>'+'<tr><td>Course:</td><td align="center">'+SOCIETY_EVENTS[idx]["course"]+'</td></tr>'+'<tr><td>Post Code of Course:</td><td align="center">'+SOCIETY_EVENTS[idx]["postcode"]+'</td></tr>'+'<tr><td>Club or Course Website:</td><td align="center">'+SOCIETY_EVENTS[idx]["website"]+'</td></tr>'+'<tr><td>Date of Event:</td><td align="center">'+day+'/'+month+'/'+SOCIETY_EVENTS[idx]["year"]+'</td></tr>'+'<tr><td>First tee Time:</td><td align="center">'+SOCIETY_EVENTS[idx]["firstteatime"]+'</td></tr>'+'<tr><td>Price per Head:</td><td align="center">'+SOCIETY_EVENTS[idx]["price"]+'</td></tr>'+"<tr><td>What's included:</td><td align='center'>"+SOCIETY_EVENTS[idx]["included"]+'</td></tr>'+'<tr><td>Max Number of Participants:</td><td align="center">'+SOCIETY_EVENTS[idx]["maxplayers"]+'</td></tr>'+'<tr><td>Main Event Organiser:</td><td align="center">'+SOCIETY_EVENTS[idx]["organiser"]+'</td></tr>'+'<tr><td>Notes:</td><td align="center">'+SOCIETY_EVENTS[idx]["notes"]+'</td></tr>');
                } else{
                }

            }
            
            function updateaditSocietyEventForm(idx){
                if(idx > -1){
                    $('#editeventname').val(SOCIETY_EVENTS[idx]["name"]);
                    $('#editeventcourse').val(SOCIETY_EVENTS[idx]["course"]);
                    $('#editeventpostcode').val(SOCIETY_EVENTS[idx]["postcode"]);
                    $('#editeventclub').val(SOCIETY_EVENTS[idx]["website"]);
                    //$('#editeventdate').val(SOCIETY_EVENTS[index]["day"]+'/'+SOCIETY_EVENTS[index]["month"]+'/'+SOCIETY_EVENTS[index]["year"]);
                    $('#editeventprice').val(SOCIETY_EVENTS[idx]["price"]);
                    $('#editeventwhatincluded').val(SOCIETY_EVENTS[idx]["included"]);
                    $('#editeventmaxparticipants').val(SOCIETY_EVENTS[idx]["maxplayers"]);

                    $('#editeventdate').datetimepicker("update", new Date(SOCIETY_EVENTS[idx]["year"],Number(SOCIETY_EVENTS[idx]["month"])-1,SOCIETY_EVENTS[idx]["day"],0,0,0,0));

                    let str = SOCIETY_EVENTS[idx]["firstteatime"];
                    let res = str.split(":");
                    $('#editeventteatime').datetimepicker("update", new Date(0,0,0,res[0],res[1],0,0));

                    $('#editevenorganiser').val(SOCIETY_EVENTS[idx]["organiser"]);
                    $('#editeventnotes').val(SOCIETY_EVENTS[idx]["notes"]);
                } else{
                    $('#editeventname').val("");
                    $('#editeventcourse').val("");
                    $('#editeventpostcode').val("");
                    $('#editeventclub').val("");
                    $('#editeventprice').val("");
                    $('#editeventwhatincluded').val("");
                    $('#editeventmaxparticipants').val("");

                    $('#editneweventdate').val("");
                    $('#editneweventteatime').val("");

                    $('#editevenorganiser').val("");
                    $('#editeventnotes').val("");
                }

            }
            
            function generateContest(num,k,r,s,space, id, parent){
                console.log(num+ " "+k+" "+r);
                
                let width = 120;
                let height = 30;
                let fontsize = 11;
                let name = "";
                
                $("#contestcontent").append('<button id="'+id+'" type="button" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+Number(Number((r)*15)+Number(0))+'px; left: '+(k*145)+'px; z-index: 1; font-size:'+fontsize+'px" class="btn btn-primary"></button>');
                
                contestGrid.push({name: name, id: id, parentId: parent});
                
                if(num == 1){
                    /*$("#contestcontent").append('<p style="position:absolute; top: '+Number(Number((r)*15)+Number(0))+'px; left: '+k*130+'px; z-index: 1">bababa</p>');*/
                    return;
                } else{
                    let a = Math.floor(num/2);
                    let b = num - a;
                    
                    
                    if(a == 1){
                        name = contestMembers.splice(0,1)[0];
                        
                        
                        $("#contestcontent").append('<button id="'+(id-Math.ceil(Math.abs(id-parent)/2))+'" type="button" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+Number(Number((r-space/2)
                        *15)+Number(0))+'px; left: '+((k-1)*145)+'px; z-index: 1; font-size:'+fontsize+'px" class="btn btn-primary">'+name+'</button>');
                        
                        contestGrid.push({name: name, id: (id-Math.ceil(Math.abs(id-parent)/2)), parentId: id});
                    
                    } else{
                        generateContest(a,k-1,r-space/2,-1,space/2,(id-Math.ceil(Math.abs(id-parent)/2)), id);
                    }
                    
                        $("#contestcontent").append('<svg width="250" height="250" style="position:absolute;top: '+Number(Number((r-space/2)*15)+Number(height/2))+'px; left: '+Number((k-1)*145+Number(width/2))+'px;"><line x1="0" y1="0" x2="'+Number(145)+'" y2="'+Number(Number((space/2)*15)+Number(0))+'"  stroke="black"/></svg>');
                    
                    if(b == 1){
                        
                        name = contestMembers.splice(0,1)[0];
                        
                        $("#contestcontent").append('<button id="'+(id+Math.floor(Math.abs(id-parent)/2))+'" type="button" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+Number(Number((r+space/2)*15)+Number(0))+'px; left: '+((k-1)*145)+'px; z-index: 1; font-size:'+fontsize+'px" class="btn btn-primary">'+name+'</button>');
                        
                        contestGrid.push({name: name, id: (id+Math.floor(Math.abs(id-parent)/2)), parentId: id});
                        
                    } else{
                        generateContest(b,k-1,r+space/2,1,space/2,(id+Math.floor(Math.abs(id-parent)/2)), id);
                    }     
                    
                    $("#contestcontent").append('<svg width="250" height="250" style="position:absolute;top: '+Number(Number((r+space/2)*15)+Number(height/2)-Number(Number((space/2)*15)+Number(0)))+'px; left: '+Number((k-1)*145+Number(width/2))+'px;"><line x1="0" y1="'+Number(Number((space/2)*15)+Number(0))+'" x2="'+Number(145)+'" y2="0"  stroke="black"/></svg>');
                    
                    return;
                    
                }
            }
            
            function showContest(num,k,r,s,space, id, parent,i, depth){
                console.log("SHOW CONTEST "+num);
                let offset = 120;
                let width = 120;
                let height = 30;
                let fontsize = 11;
                let name = "";
                let depthtmp = Number(Number(depth)+Number(1));
                console.log(depth);
                name = findMemberNameInContest(i, id);
                if(depth == 2){
                    contestThirdPlace.push(id);
                }
                
                let result1 = depthtmp;
                let result2 = depthtmp;
                
                $("#championcupgrid").append('<button id="'+id+'" type="button" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+Number(Number((r)*15)+Number(offset))+'px; left: '+(k*145)+'px; z-index: 1; font-size:'+fontsize+'px" class="btn btn-primary">'+name+'</button>');
                
                /*$("#championcupgrid").append('<button id="'+id+'" type="button" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+Number(Number((r)*15)+Number(0))+'px; left: '+(k*145)+'px; z-index: 1; font-size:'+fontsize+'px" class="btn btn-primary">'+name+'</button>');*/
                
                //contestGrid.push({name: name, id: id, parentId: parent});
                
                if(num == 1){
                    /*$("#contestcontent").append('<p style="position:absolute; top: '+Number(Number((r)*15)+Number(0))+'px; left: '+k*130+'px; z-index: 1">bababa</p>');*/
                    return depthtmp;
                } else{
                    let a = Math.floor(num/2);
                    let b = num - a;
                    
                    
                    if(a == 1){
                        name = findMemberNameInContest(i, (id-Math.ceil(Math.abs(id-parent)/2)));
                        console.log(name);
            
                        if(depth == 1){
                            contestThirdPlace.push((id-Math.ceil(Math.abs(id-parent)/2)));
                        } 
                        
                        $("#championcupgrid").append('<button id="'+(id-Math.ceil(Math.abs(id-parent)/2))+'" type="button" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+Number(Number((r-space/2)
                        *15)+Number(offset))+'px; left: '+((k-1)*145)+'px; z-index: 1; font-size:'+fontsize+'px" class="btn btn-primary">'+name+'</button>');
                        

                                       
                        
                        //contestGrid.push({name: name, id: (id-Math.ceil(Math.abs(id-parent)/2)), parentId: id});
                    
                    } else{
                        result1 =showContest(a,k-1,r-space/2,-1,space/2,(id-Math.ceil(Math.abs(id-parent)/2)), id,i, depthtmp);
                    }
                    
                        $("#championcupgrid").append('<svg width="250" height="250" style="position:absolute;top: '+Number(Number((r-space/2)*15)+Number(height/2+offset))+'px; left: '+Number((k-1)*145+Number(width/2))+'px;"><line x1="0" y1="0" x2="'+Number(145)+'" y2="'+Number(Number((space/2)*15)+Number(0))+'"  stroke="black"/></svg>');
                    
                    if(b == 1){
                        console.log(name);
                        name = findMemberNameInContest(i, (id+Math.floor(Math.abs(id-parent)/2)));
                        if(depth == 1){
                            contestThirdPlace.push((id+Math.floor(Math.abs(id-parent)/2)));
                        } 
                        
                        $("#championcupgrid").append('<button id="'+(id+Math.floor(Math.abs(id-parent)/2))+'" type="button" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+Number(Number((r+space/2)*15)+Number(offset))+'px; left: '+((k-1)*145)+'px; z-index: 1; font-size:'+fontsize+'px" class="btn btn-primary">'+name+'</button>');
                        
                    
                        
                       // contestGrid.push({name: name, id: (id+Math.floor(Math.abs(id-parent)/2)), parentId: id});
                        
                    } else{
                        result2 = showContest(b,k-1,r+space/2,1,space/2,(id+Math.floor(Math.abs(id-parent)/2)), id,i, depthtmp);
                    }     
                    
                        $("#championcupgrid").append('<svg width="250" height="250" style="position:absolute;top: '+Number(Number((r+space/2)*15)+Number(height/2+offset)-Number(Number((space/2)*15)+Number(0)))+'px; left: '+Number((k-1)*145+Number(width/2))+'px;"><line x1="0" y1="'+Number(Number((space/2)*15)+Number(0))+'" x2="'+Number(145)+'" y2="0"  stroke="black"/></svg>');
                    
                    
                    if(result1 > result2 )
                        return result1;
                    else
                        return result2;
                    
                }
            }    
            
            function showThirdPlace(){
                
                let width = 120;
                let height = 30;
                let fontsize = 11;
                let offset = 120;
                
                if(contestThirdPlace.length > 0){
                    let arr1 = [];
                    let arr2 = [];
                    console.log("------");
                    for(let j = 0; j < contestThirdPlace.length; j++){
                        
                        if(ALL_CONTEST_RESULTS.length >0){
                                let contestGrid = ALL_CONTEST_RESULTS[activeContestIndex].grid;
                                let parent = "";
                                let name = "";
                                for(let i = 0; i < contestGrid.length; i++){
                                    if(contestGrid[i].id == contestThirdPlace[j]){
                                        console.log(contestGrid[i].name);
                                        parent = contestGrid[i].parentId;
                                        name = contestGrid[i].name;
                                        arr1.push(contestGrid[i].name);
                                        break;
                                    }
                                }

                                let parenttmpname = parent;
                                 let parenttmp = parent;

                                for(let i = 0; i < contestGrid.length; i++){
                                    if(contestGrid[i].id == parent){
                                        arr2.push(contestGrid[i].name);
                                        //contestGrid[i].name = name;
                                        break;
                                    }
                                }

                        }
                    }
                    
                    let arrThirdPlace = [];
                    
                    for( let i = 0; i < arr1.length ; i++){
                        if(arr2[i] !== "" && arr2[i]){
                            if(arr1[i] !== arr2[i]){
                                arrThirdPlace.push(arr1[i]);
                            }
                        }
                    }
                    
                    
                    let counter = ALL_CONTEST_RESULTS[activeContestIndex].gridInfo.counter;

                 //   showContest(ALL_CONTEST_RESULTS[i].gridInfo.membersnumber,5,8*counter+10,1,8*counter+10, ALL_CONTEST_RESULTS[i].gridInfo.idStart, ALL_CONTEST_RESULTS[i].gridInfo.idParent,i, 0)
                    
                    let space = 2;
                    
                    console.log("POLFINALY");
                    for(let i = 0; i < arrThirdPlace.length; i++){
                        console.log(arrThirdPlace[i]);
                        
                         $("#championcupgrid").append('<button id="thirdplace'+i+'" type="button" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+2*Number(Number((8*counter+12+space/2 - space*i)*15)+Number(offset/2))+'px; left: '+(4*145)+'px; z-index: 1; font-size:'+fontsize+'px" class="btn btn-primary">'+arrThirdPlace[i]+'</button>');
                        
                        $("#championcupgrid").append('<svg width="250" height="250" style="position:absolute;top: '+Number(2*Number((8*counter+12+space/2 - space*i)*15)+Number(height/2+offset)-2*Number(Number((space/2)*15)+Number(0))*(1-i))+'px; left: '+Number((4)*145+Number(width/2))+'px;"><line x1="0" y1="'+2*Number(Number((space/2)*15)+Number(0))*(1-i)+'" x2="'+Number(145)+'" y2="'+2*Number(Number((space/2)*15)+Number(0))*(i)+'"  stroke="black"/></svg>');
                        
                    }
                    
                    let third = "";
                    if(ALL_CONTEST_RESULTS[activeContestIndex].third){
                        third = ALL_CONTEST_RESULTS[activeContestIndex].third;
                    }
                    
                    $("#championcupgrid").append('<button id="info" type="button" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+2*Number(Number((8*counter+12)*15)+offset/2-height)+'px; left: '+(5*145)+'px; z-index: 1; font-size:'+15+'px" class="btn btn-success">'+'Third Place'+'</button>');
                    
                    $("#championcupgrid").append('<button id="thirdplace" type="button" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+2*Number(Number((8*counter+12)*15)+Number(offset/2))+'px; left: '+(5*145)+'px; z-index: 1; font-size:'+fontsize+'px" class="btn btn-primary">'+third+'</button>');

                
            }
        }
            
        function showEditThirdPlace(){
                
                let width = 120;
                let height = 30;
                let fontsize = 11;
                
                if(contestEditThirdPlace.length > 0){
                    let arr1 = [];
                    let arr2 = [];
                    console.log("------");
                    for(let j = 0; j < contestEditThirdPlace.length; j++){
                        
                        if(ALL_CONTEST_RESULTS.length >0){
                                let contestGrid = ALL_CONTEST_RESULTS[editContestIndex].grid;
                                let parent = "";
                                let name = "";
                                for(let i = 0; i < contestGrid.length; i++){
                                    if(contestGrid[i].id == contestEditThirdPlace[j]){
                                        console.log(contestGrid[i].name);
                                        parent = contestGrid[i].parentId;
                                        name = contestGrid[i].name;
                                        arr1.push(contestGrid[i].name);
                                        break;
                                    }
                                }

                                let parenttmpname = parent;
                                 let parenttmp = parent;

                                for(let i = 0; i < contestGrid.length; i++){
                                    if(contestGrid[i].id == parent){
                                        arr2.push(contestGrid[i].name);
                                        //contestGrid[i].name = name;
                                        break;
                                    }
                                }

                        }
                    }
                    
                    let arrThirdPlace = [];
                    
                    for( let i = 0; i < arr1.length ; i++){
                        if(arr2[i] !== "" && arr2[i]){
                            if(arr1[i] !== arr2[i]){
                                arrThirdPlace.push(arr1[i]);
                            }
                        }
                    }
                    
                    
                    let counter = ALL_CONTEST_RESULTS[editContestIndex].gridInfo.counter;

                 //   showContest(ALL_CONTEST_RESULTS[i].gridInfo.membersnumber,5,8*counter+10,1,8*counter+10, ALL_CONTEST_RESULTS[i].gridInfo.idStart, ALL_CONTEST_RESULTS[i].gridInfo.idParent,i, 0)
                    
                    let space = 2;
                    
                    console.log("POLFINALY");
                    for(let i = 0; i < arrThirdPlace.length; i++){
                        console.log(arrThirdPlace[i]);
                        
                         $("#editcontestcontent").append('<button id="editthirdplace'+Number(i+1)+'" type="button" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+2*Number(Number((8*counter+12+space/2 - space*i)*15)+Number(0))+'px; left: '+(4*145)+'px; z-index: 1; font-size:'+fontsize+'px" class="btn btn-primary">'+arrThirdPlace[i]+'</button>');
                        
                        $("#editcontestcontent").append('<svg width="250" height="250" style="position:absolute;top: '+Number(2*Number((8*counter+12+space/2 - space*i)*15)+Number(height/2)-2*Number(Number((space/2)*15)+Number(0))*(1-i))+'px; left: '+Number((4)*145+Number(width/2))+'px;"><line x1="0" y1="'+2*Number(Number((space/2)*15)+Number(0))*(1-i)+'" x2="'+Number(145)+'" y2="'+2*Number(Number((space/2)*15)+Number(0))*(i)+'"  stroke="black"/></svg>');
                        
                    }
                    let third = "";
                    if(ALL_CONTEST_RESULTS[editContestIndex].third){
                        third = ALL_CONTEST_RESULTS[editContestIndex].third;
                    }
                    
                    let flag = false;
                    
                    for(let i = 0; i < arrThirdPlace.length; i++){
                        if(third == arrThirdPlace[i]){
                            flag= true;
                        }
                    }
                    
                    if(flag == false){
                        third = "";
                        ALL_CONTEST_RESULTS[editContestIndex].third = "";
                    }
                    
                    $("#editcontestcontent").append('<button id="thirdplace" type="button" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+2*Number(Number((8*counter+12)*15)+Number(0))+'px; left: '+(5*145)+'px; z-index: 1; font-size:'+fontsize+'px" class="btn btn-primary">'+third+'</button>');

                
            }
        }
            
            function showEditContest(num,k,r,s,space, id, parent,i, depth){
                console.log("SHOW Edit CONTEST "+num);
                
                let width = 120;
                let height = 30;
                let fontsize = 11;
                let name = "";
                
                name = findMemberNameInContest(i, id);
                
                $("#editcontestcontent").append('<button id="'+id+'" type="button" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+Number(Number((r)*15)+Number(0))+'px; left: '+(k*145)+'px; z-index: 1; font-size:'+fontsize+'px" class="btn btn-primary">'+name+'</button>');
                
                //contestGrid.push({name: name, id: id, parentId: parent});
                
                if(depth == 2){
                    contestEditThirdPlace.push(id);
                }
                
                
                if(num == 1){
                    /*$("#contestcontent").append('<p style="position:absolute; top: '+Number(Number((r)*15)+Number(0))+'px; left: '+k*130+'px; z-index: 1">bababa</p>');*/
                    return;
                } else{
                    let a = Math.floor(num/2);
                    let b = num - a;
                    
                    
                    if(a == 1){
                        name = findMemberNameInContest(i, (id-Math.ceil(Math.abs(id-parent)/2)));
                        console.log(name);
                        
                        $("#editcontestcontent").append('<button id="'+(id-Math.ceil(Math.abs(id-parent)/2))+'" type="button" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+Number(Number((r-space/2)
                        *15)+Number(0))+'px; left: '+((k-1)*145)+'px; z-index: 1; font-size:'+fontsize+'px" class="btn btn-primary">'+name+'</button>');
                        
                        //contestGrid.push({name: name, id: (id-Math.ceil(Math.abs(id-parent)/2)), parentId: id});
                    
                        if(depth == 1){
                            contestEditThirdPlace.push((id-Math.ceil(Math.abs(id-parent)/2)));
                        }
                        
                    } else{
                        showEditContest(a,k-1,r-space/2,-1,space/2,(id-Math.ceil(Math.abs(id-parent)/2)), id,i,Number(Number(depth)+1));
                    }
                    
                        $("#editcontestcontent").append('<svg width="250" height="250" style="position:absolute;top: '+Number(Number((r-space/2)*15)+Number(height/2))+'px; left: '+Number((k-1)*145+Number(width/2))+'px;z-index: -1"><line x1="0" y1="0" x2="'+Number(145)+'" y2="'+Number(Number((space/2)*15)+Number(0))+'"  stroke="black"/></svg>');
                    
                    if(b == 1){
                        console.log(name);
                        name = findMemberNameInContest(i, (id+Math.floor(Math.abs(id-parent)/2)));
                        
                        $("#editcontestcontent").append('<button id="'+(id+Math.floor(Math.abs(id-parent)/2))+'" type="button" style="width:'+width+'px;height:'+height+'px;position:absolute; top: '+Number(Number((r+space/2)*15)+Number(0))+'px; left: '+((k-1)*145)+'px; z-index: 1; font-size:'+fontsize+'px" class="btn btn-primary">'+name+'</button>');
                        
                        if(depth == 1){
                            contestEditThirdPlace.push((id+Math.floor(Math.abs(id-parent)/2)));
                        }                    
                        
                       // contestGrid.push({name: name, id: (id+Math.floor(Math.abs(id-parent)/2)), parentId: id});
                        
                    } else{
                        showEditContest(b,k-1,r+space/2,1,space/2,(id+Math.floor(Math.abs(id-parent)/2)), id,i, Number(Number(depth)+1));
                    }     
                    
                        $("#editcontestcontent").append('<svg width="250" height="250" style="position:absolute;top: '+Number(Number((r+space/2)*15)+Number(height/2)-Number(Number((space/2)*15)+Number(0)))+'px; left: '+Number((k-1)*145+Number(width/2))+'px; z-index: -1"><line x1="0" y1="'+Number(Number((space/2)*15)+Number(0))+'" x2="'+Number(145)+'" y2="0"  stroke="black"/></svg>');
                    
                    return;
                    
                }
            }            
            
            function findMemberNameInContest(i, id){
                
                for(let k = 0; k < ALL_CONTEST_RESULTS[i].grid.length; k++){
                    if(ALL_CONTEST_RESULTS[i].grid[k].id == id){
                        return ALL_CONTEST_RESULTS[i].grid[k].name;
                    }
                }
                return "";
            }
            
            function updateCompetitionList(year){
                $('#competitionlist').empty();
                
                let arr = getCompetitionIndexList();
                
                for(let i=0, length = arr.length; i < length; i++){
                    if(ALL_COMPETITION_RESULTS[arr[i]]['year'] == year){
                        $('#competitionlist').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="'+arr[i]+'" >'+ALL_COMPETITION_RESULTS[arr[i]]["venue"]+'</a>');
                    }
                }
                
                $('#competitionlistbtn').text(year);
            }
            
            function updateaditCompetitionList(year){
                $('#editcompetitionlist').empty();
                
                let arr = getCompetitionIndexList();
                
                for(let i=0, length = arr.length; i < length; i++){
                    if(ALL_COMPETITION_RESULTS[arr[i]]['year'] == year){
                        $('#editcompetitionlist').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="'+arr[i]+'" >'+ALL_COMPETITION_RESULTS[arr[i]]["venue"]+'</a>');  
                    }
                }
                
                $('#editcompetitionlistbtn').text(year);
            }            
            
            function getCompetitionIndexList(){
                
                let arr =[];
                let id = -1;
                let k = []; 
                $.in
                
                for(let i=0, length = ALL_COMPETITION_RESULTS.length; i < length; i++){
                    if(($.inArray(ALL_COMPETITION_RESULTS[i]["id"] , k)) == -1){
                        k.push(ALL_COMPETITION_RESULTS[i]["id"]);
                        arr.push(i);
                    }
                }
                
                return arr;
            }
            
            function updateSocietyEventList(year){
                
                let arr = [];
                $('#eventlist').empty();
                console.log("update event");
                let currnentDate = new Date();
                let future = false;
                for(let i=0, length = SOCIETY_EVENTS.length; i < length; i++){
                    if(SOCIETY_EVENTS[i]['year'] == year){
                       if(currnentDate.getFullYear() <= SOCIETY_EVENTS[i]["year"]){
                           if(currnentDate.getMonth() < SOCIETY_EVENTS[i]["month"]){
                                   $('#eventlist').append('<a class = "notop list-group-item text-center list-group-item-success" href="javascript:void(0)" id="'+i+'" >'+SOCIETY_EVENTS[i]["name"]+'</a>');
                                   future = true;
                           } else if(currnentDate.getMonth() == SOCIETY_EVENTS[i]["month"]){
                               if(currnentDate.getDate() <= SOCIETY_EVENTS[i]["day"]){
                                   $('#eventlist').append('<a class = "notop list-group-item text-center list-group-item-success" href="javascript:void(0)" id="'+i+'" >'+SOCIETY_EVENTS[i]["name"]+'</a>');
                                   future = true;
                               }
                           }
                       }
                       if(future == false){
                            $('#eventlist').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="'+i+'" >'+SOCIETY_EVENTS[i]["name"]+'</a>');
                       }
                       future = false;
                    }
                }
                
                $('#eventlistbtn').text(year);
            }
            
            function updateaditSocietyEventList(year){
                let arr = [];
                $('#editeventlist').empty();
                console.log("update event");
                let future = false;
                let currnentDate = new Date();
                
                for(let i=0, length = SOCIETY_EVENTS.length; i < length; i++){
                    if(SOCIETY_EVENTS[i]['year'] == year){
                        if(currnentDate.getFullYear() <= SOCIETY_EVENTS[i]["year"]){
                           if(currnentDate.getMonth() <= SOCIETY_EVENTS[i]["month"]){
                               if(currnentDate.getDate() <= SOCIETY_EVENTS[i]["day"]){
                                  $('#editeventlist').append('<a class = "notop list-group-item text-center list-group-item-success" href="javascript:void(0)" id="'+i+'" >'+SOCIETY_EVENTS[i]["name"]+'</a>');
                                   future = true;
                               }
                           }
                       }
                       if(future == false){
                            $('#editeventlist').append('<a class = "notop list-group-item text-center list-group-item-info" href="javascript:void(0)" id="'+i+'" >'+SOCIETY_EVENTS[i]["name"]+'</a>');
                       }
                       future = false;
                    }
                }
                
                $('#editeventlistbtn').text(year);
            }
            
            function getMemberHandicap(membername, noRoundHandicap){
                for(let i =0, length = MEMBERS.length; i < length; i++){     
                    if(MEMBERS[i]["name"] == membername){
                        if(noRoundHandicap === true){
                            return MEMBERS[i]["handicapExact"];
                        } else{
                            return Math.round(MEMBERS[i]["handicapExact"]);
                        }
                        
                    }
                }
                
                return 0;
            }
            getLastCompetitionIndex
 
            function getLastCompetitionIndex(){
                let arr = [];
                
                for(let i=0, length = ALL_COMPETITION_RESULTS.length; i < length; i++){
                    arr.push(Number(ALL_COMPETITION_RESULTS[i]['year']*10000)+Number(ALL_COMPETITION_RESULTS[i]['month']*100)+Number(ALL_COMPETITION_RESULTS[i]['day']));
                    console.log(ALL_COMPETITION_RESULTS[i]['year']);
                    console.log(ALL_COMPETITION_RESULTS[i]['month']);
                    console.log(ALL_COMPETITION_RESULTS[i]['year']);
                    console.log(Number(ALL_COMPETITION_RESULTS[i]['year']*10000)+Number(ALL_COMPETITION_RESULTS[i]['month']*100)+Number(ALL_COMPETITION_RESULTS[i]['day']));
                }
                
                return indexOfMax(arr);
            }
                        
            
            function getLastEventIndex(){
                let arr = [];
                
                for(let i=0, length = SOCIETY_EVENTS.length; i < length; i++){
                    arr.push(Number(SOCIETY_EVENTS[i]['year']*10000)+Number(SOCIETY_EVENTS[i]['month']*100)+Number(SOCIETY_EVENTS[i]['day']));
                    console.log(SOCIETY_EVENTS[i]['year']);
                    console.log(SOCIETY_EVENTS[i]['month']);
                    console.log(SOCIETY_EVENTS[i]['year']);
                    console.log(Number(SOCIETY_EVENTS[i]['year']*10000)+Number(SOCIETY_EVENTS[i]['month']*100)+Number(SOCIETY_EVENTS[i]['day']));
                }
                
                return indexOfMax(arr);
                
            }
            
            function getOldestEventIndex(){
                let arr = [];
                
                for(let i=0, length = SOCIETY_EVENTS.length; i < length; i++){
                    arr.push(Number(SOCIETY_EVENTS[i]['year']*10000)+Number(SOCIETY_EVENTS[i]['month']*100)+Number(SOCIETY_EVENTS[i]['day']));
                }
                
                return indexOfMin(arr);
            }
            
            function getLastCompetitionIndex(){
                let arr = [];
                
                for(let i=0, length = ALL_COMPETITION_RESULTS.length; i < length; i++){
                    arr.push(Number(ALL_COMPETITION_RESULTS[i]['year']*10000)+Number(ALL_COMPETITION_RESULTS[i]['month']*100)+Number(ALL_COMPETITION_RESULTS[i]['day']));
                }
                
                return indexOfMax(arr);
                
            }
            
            function getOldestCompetitionIndex(){
                let arr = [];
                
                for(let i=0, length = ALL_COMPETITION_RESULTS.length; i < length; i++){
                    arr.push(Number(ALL_COMPETITION_RESULTS[i]['year']*10000)+Number(ALL_COMPETITION_RESULTS[i]['month']*100)+Number(ALL_COMPETITION_RESULTS[i]['day']));
                }
                
                return indexOfMin(arr);
            }
            
            function indexOfMax(arr) {
                if (arr.length === 0) {
                    return -1;
                }

                let max = arr[0];
                let maxIndex = 0;

                for (let i = 1; i < arr.length; i++) {
                    if (arr[i] > max) {
                        maxIndex = i;
                        max = arr[i];
                    }
                }

                return maxIndex;
            }
            
            function indexOfMin(arr){
                if (arr.length === 0) {
                    return -1;
                }

                let index = 0;
                let value = arr[0];
                for (var i = 1; i < arr.length; i++) {
                  if (arr[i] < value) {
                    value = arr[i];
                    index = i;
                  }
                }
                
                return index;
            }
            
            function compareCompetitionNetScore(a,b){
                if(Number(a["netscore"]) < Number(b["netscore"]))
                    return 1;
                if (Number(a["netscore"]) > Number(b["netscore"]))
                    return -1;
                return 0;
            }
            
            function compareTotalScore(a,b){
                if(Number(a["score"]) < Number(b["score"]))
                    return 1;
                if (Number(a["score"]) > Number(b["score"]))
                    return -1;
                return 0;
            }       
            
            function compareMonth(a,b){
                if(Number(a["month"]) > Number(b["month"]))
                    return 1;
                if (Number(a["month"]) < Number(b["month"]))
                    return -1;
                return 0;
            } 
            
            function compareCompetitionScore(a,b){
                if(Number(a) < Number(b))
                    return 1;
                if (Number(a) > Number(b))
                    return -1;
                return 0;
            }        
            
            function compareMemberName(a,b) {
                if (a.name < b.name)
                    return -1;
                if (a.name > b.name)
                    return 1;
                return 0;
            }
            
            function sortMembersByName(){
                MEMBERS.sort(compareMemberName);
            }         
            
            function sortEvents(){
                SOCIETY_EVENTS.sort(compareEvents);
                activeEditEvent = -1;
                activeEvent  = -1;
            }
            
            function compareEvents(a,b) {
              if ((Number(a["year"]*1000)+Number(a["month"]*100)+Number(a["day"])) < (Number(b["year"]*1000)+Number(b["month"]*100)+Number(b["day"])) )
                return 1;
              if ((Number(a["year"]*1000)+Number(a["month"]*100)+Number(a["day"])) > (Number(b["year"]*1000)+Number(b["month"]*100)+Number(b["day"])) )
                return -1;
              return 0;
            }
            
            $('body').on('touchstart.dropdown', '.dropdown-menu', function (e) { 
                e.stopPropagation(); 
            });
        </script> 
    </body>
</html>